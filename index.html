<!DOCTYPE html>
<html lang="fr" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneBox - Cloud Personnel S√©curis√© üí™üèæ</title>
    <meta name="description" content="OneBox - Stockez, organisez et acc√©dez √† vos fichiers en toute s√©curit√©. Votre cloud personnel avec √©diteur WYSIWYG int√©gr√©.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <style>
        :root {
            --primary: 171 100% 43%;
            --accent: 171 100% 43%;
            --background: 210 50% 8%;
            --foreground: 210 40% 98%;
            --card: 210 50% 10%;
            --card-foreground: 210 40% 98%;
            --border: 210 40% 20%;
            --input: 210 40% 15%;
            --ring: 171 100% 43%;
            --muted: 210 40% 15%;
            --muted-foreground: 210 40% 65%;
            --destructive: 0 62% 30%;
            --destructive-foreground: 210 40% 98%;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: hsl(var(--background));
            color: hsl(var(--foreground));
            line-height: 1.6;
            overflow-x: hidden;
        }

        .font-poppins {
            font-family: 'Poppins', sans-serif;
        }

        /* Glass Effect */
        .glass-effect {
            background: rgba(13, 27, 42, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* 3D Effects */
        .perspective-card {
            transform-style: preserve-3d;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform: perspective(1000px);
        }

        .perspective-card:hover {
            transform: perspective(1000px) rotateX(8deg) rotateY(8deg) scale(1.05);
        }

        .neon-glow {
            box-shadow: 0 0 30px rgba(6, 214, 160, 0.5), 0 0 60px rgba(6, 214, 160, 0.3);
        }

        .floating-btn {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateZ(0);
        }

        .floating-btn:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 12px 35px rgba(6, 214, 160, 0.6);
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(13, 27, 42, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1rem 0;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 700;
            font-size: 1.5rem;
            color: hsl(var(--foreground));
            text-decoration: none;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent)));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: hsl(var(--background));
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            color: hsl(var(--foreground));
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-link:hover, .nav-link.active {
            background: rgba(6, 214, 160, 0.1);
            color: hsl(var(--primary));
        }

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: hsl(var(--foreground));
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Sections */
        .section {
            display: none;
            min-height: 100vh;
            padding: 100px 0 50px;
        }

        .section.active {
            display: block;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 80px 0;
        }

        .hero-title {
            font-size: 4rem;
            font-weight: 800;
            background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent)));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1.5rem;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            color: hsl(var(--muted-foreground));
            margin-bottom: 3rem;
        }

        /* Cards */
        .card {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .grid {
            display: grid;
            gap: 2rem;
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        }

        /* Buttons */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent)));
            color: hsl(var(--background));
        }

        .btn-secondary {
            background: hsl(var(--muted));
            color: hsl(var(--foreground));
        }

        .btn-outline {
            background: transparent;
            border: 2px solid hsl(var(--primary));
            color: hsl(var(--primary));
        }

        /* Forms */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 12px;
            border: 1px solid hsl(var(--border));
            border-radius: 8px;
            background: hsl(var(--input));
            color: hsl(var(--foreground));
            font-size: 1rem;
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        /* Footer */
        .footer {
            background: hsl(var(--card));
            border-top: 1px solid hsl(var(--border));
            padding: 3rem 0 2rem;
            margin-top: 4rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: hsl(var(--primary));
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section a {
            color: hsl(var(--muted-foreground));
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-section a:hover {
            color: hsl(var(--primary));
        }

        .social-icons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-icon {
            width: 40px;
            height: 40px;
            background: hsl(var(--muted));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: hsl(var(--foreground));
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-icon:hover {
            background: hsl(var(--primary));
            color: hsl(var(--background));
            transform: translateY(-2px);
        }

        .snapchat-btn {
            background: linear-gradient(135deg, #FFFC00, #FFD700);
            color: #000;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .snapchat-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 252, 0, 0.4);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(10px);
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 16px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: hsl(var(--muted-foreground));
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: hsl(var(--muted));
            color: hsl(var(--foreground));
        }

        /* File Grid - Style ordinateur 2x2 */
        .file-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 2rem;
            max-width: 600px;
        }

        .file-card {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 8px;
            padding: 0.75rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .file-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 12px 35px rgba(6, 214, 160, 0.3);
            border-color: hsl(var(--primary));
        }

        .file-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: hsl(var(--primary));
            transition: all 0.3s ease;
        }

        .file-card:hover .file-icon {
            transform: scale(1.1);
        }

        .file-preview-thumb {
            width: 100%;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: hsl(var(--muted));
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .file-actions {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin-top: 1rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .file-card:hover .file-actions {
            opacity: 1;
        }

        .file-action-btn {
            background: hsl(var(--muted));
            border: none;
            border-radius: 6px;
            padding: 8px;
            color: hsl(var(--foreground));
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .file-action-btn:hover {
            background: hsl(var(--primary));
            color: hsl(var(--background));
        }

        /* File Preview Modal */
        .file-preview-modal .modal-content {
            max-width: 90vw;
            max-height: 90vh;
            width: auto;
            height: auto;
            padding: 1rem;
        }

        .file-preview-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .file-preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 1rem;
            border-bottom: 1px solid hsl(var(--border));
            margin-bottom: 1rem;
        }

        .file-preview-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 400px;
            background: hsl(var(--muted));
            border-radius: 8px;
            overflow: hidden;
        }

        .pdf-viewer, .image-viewer, .video-viewer {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
        }

        .text-viewer {
            width: 100%;
            height: 100%;
            background: hsl(var(--card));
            color: hsl(var(--foreground));
            padding: 2rem;
            font-family: 'Courier New', monospace;
            border: none;
            border-radius: 8px;
            overflow: auto;
            white-space: pre-wrap;
        }

        .file-info-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid hsl(var(--border));
        }

        .file-info-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: hsl(var(--muted-foreground));
            font-size: 0.9rem;
        }

        .file-preview-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        /* Zoom controls */
        .zoom-controls {
            position: absolute;
            top: 1rem;
            right: 4rem;
            display: flex;
            gap: 0.5rem;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 8px;
            padding: 0.5rem;
        }

        .zoom-btn {
            background: hsl(var(--muted));
            border: none;
            border-radius: 4px;
            padding: 8px 12px;
            color: hsl(var(--foreground));
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .zoom-btn:hover {
            background: hsl(var(--primary));
        }

        /* Loading spinner */
        .loading-spinner {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 200px;
            color: hsl(var(--primary));
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid hsl(var(--muted));
            border-top: 3px solid hsl(var(--primary));
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes rotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        /* Editor improvements */
        .editor-save-panel {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 12px;
            padding: 1rem;
            margin-top: 1rem;
            display: none;
        }

        .editor-filters {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: hsl(var(--muted));
            border: none;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            color: hsl(var(--foreground));
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .filter-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(6, 214, 160, 0.3);
        }

        .filter-btn.active {
            background: hsl(var(--primary));
            color: hsl(var(--background));
        }

        /* iPhone-style color filters */
        .color-filter-vivid { filter: contrast(1.2) saturate(1.3) brightness(1.1); }
        .color-filter-dramatic { filter: contrast(1.5) saturate(0.8) brightness(0.9) hue-rotate(10deg); }
        .color-filter-mono { filter: grayscale(1) contrast(1.2); }
        .color-filter-silvertone { filter: grayscale(0.5) contrast(1.1) brightness(1.1); }
        .color-filter-noir { filter: grayscale(1) contrast(1.4) brightness(0.8); }
        .color-filter-warm { filter: sepia(0.3) saturate(1.2) contrast(1.1) hue-rotate(-10deg); }
        .color-filter-cool { filter: hue-rotate(180deg) saturate(0.9) brightness(1.05); }

        /* Face ID Animation */
        @keyframes faceIdPulse {
            0%, 100% { 
                opacity: 0.3; 
                transform: scale(1); 
            }
            50% { 
                opacity: 0.8; 
                transform: scale(1.1); 
            }
        }

        @keyframes faceIdScanning {
            0% { 
                background: radial-gradient(circle, transparent 30%, rgba(6, 214, 160, 0.3) 70%);
                transform: rotate(0deg);
            }
            25% { 
                background: radial-gradient(circle, transparent 30%, rgba(255, 215, 0, 0.3) 70%);
                transform: rotate(90deg);
            }
            50% { 
                background: radial-gradient(circle, transparent 30%, rgba(255, 69, 0, 0.3) 70%);
                transform: rotate(180deg);
            }
            75% { 
                background: radial-gradient(circle, transparent 30%, rgba(138, 43, 226, 0.3) 70%);
                transform: rotate(270deg);
            }
            100% { 
                background: radial-gradient(circle, transparent 30%, rgba(6, 214, 160, 0.3) 70%);
                transform: rotate(360deg);
            }
        }

        /* Authentication */
        .auth-container {
            max-width: 400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .auth-card {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        /* Editor */
        .editor-container {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 12px;
            min-height: 400px;
            padding: 2rem;
        }

        .editor-toolbar {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid hsl(var(--border));
        }

        .editor-btn {
            background: hsl(var(--muted));
            border: none;
            border-radius: 6px;
            padding: 8px 12px;
            color: hsl(var(--foreground));
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .editor-btn:hover {
            background: hsl(var(--primary));
            color: hsl(var(--background));
        }

        .editor-content {
            min-height: 300px;
            outline: none;
            line-height: 1.8;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }

            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(13, 27, 42, 0.98);
                flex-direction: column;
                padding: 2rem;
                gap: 1rem;
            }

            .nav-menu.active {
                display: flex;
            }

            .hero-title {
                font-size: 2.5rem;
            }

            .container {
                padding: 0 1rem;
            }
        }

        /* OneBox Mobile Overrides START ‚Äî keep below existing rules to win cascade */
        @media (max-width: 768px) {
            .hero-subtitle { font-size: 1rem; }
            .grid-3, .grid-2, .grid { grid-template-columns: 1fr; }
            .file-grid { grid-template-columns: repeat(2, 1fr); gap: 0.75rem; }
            .auth-card { margin: 1rem; padding: 1.5rem; transform: none; }
            .modal-content { margin: 1rem; max-height: 90vh; overflow-y: auto; border-radius: 15px 15px 0 0; }
            .container { padding: 0 1rem; }
            
            /* Better touch targets for mobile */
            .btn { min-height: 48px; padding: 0.75rem 1.5rem; font-size: 1rem; }
            .file-action-btn { min-width: 44px; min-height: 44px; }
            .form-input { font-size: 16px; min-height: 48px; padding: 0.75rem; }
            
            /* Auth section mobile optimizations */
            .auth-container { max-width: 400px; margin: 0 auto; }
            #faceIdOption { margin-bottom: 1.5rem; padding: 1rem; }
            
            /* Documents section mobile */
            .documents-grid { grid-template-columns: 1fr; gap: 1rem; }
            .document-card { padding: 1rem; }
            
            /* Footer mobile */
            .footer { padding: 2rem 1rem; }
            .footer-content { grid-template-columns: 1fr; gap: 2rem; text-align: center; }
        }
        
        @media (max-width: 480px) {
            .hero-title { font-size: 2rem; }
            .auth-card { margin: 0.5rem; padding: 1rem; }
            .modal-content { margin: 0.5rem; border-radius: 15px 15px 0 0; }
            .container { padding: 0 0.5rem; }
            #faceIdOption .floating-btn { width: 80px; height: 80px; }
            #faceIdOption h3 { font-size: 1.1rem; }
        }
        /* OneBox Mobile Overrides END */
    </style>
</head>
<body>
    <!-- Navigation - Hidden until login -->
    <nav class="navbar" id="mainNavbar" style="display: none;">
        <div class="nav-container">
            <a href="#" class="logo" onclick="showSection('home')">
                <div class="logo-icon">
                    <i class="fas fa-box"></i>
                </div>
                <span class="font-poppins">OneBox</span>
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="#" class="nav-link" onclick="showSection('home')" data-section="home">Accueil</a></li>
                <li><a href="#" class="nav-link" onclick="showSection('files')" data-section="files">Mes Fichiers</a></li>
                <li><a href="#" class="nav-link" onclick="showSection('mes-documents')" data-section="mes-documents">
                    <i class="fas fa-folder-open"></i> Mes Documents
                </a></li>
                <li><a href="#" class="nav-link" onclick="showSection('editor')" data-section="editor">√âditeur</a></li>
                <li><a href="#" class="nav-link" onclick="showSection('contact')" data-section="contact">Contact</a></li>
                <li><a href="#" class="nav-link nav-logout" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> D√©connexion
                </a></li>
            </ul>
            
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Home Section - Hidden by default -->
    <section id="home" class="section" style="display: none;">
        <div class="container">
            <div class="hero">
                <div class="perspective-card neon-glow" style="display: inline-block; padding: 2rem; background: linear-gradient(135deg, rgba(6, 214, 160, 0.2), rgba(6, 214, 160, 0.1)); border-radius: 24px; margin-bottom: 2rem;">
                    <h1 class="hero-title font-poppins">OneBox</h1>
                </div>
                <h2 class="hero-subtitle">Votre cloud personnel s√©curis√© üí™üèæ</h2>
                <p class="hero-subtitle" style="font-size: 1.2rem; margin-bottom: 3rem;">
                    Stockez, organisez et acc√©dez √† vos fichiers en toute s√©curit√©. 
                    Avec OneBox, vos documents sont toujours √† port√©e de main, o√π que vous soyez.
                </p>
                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button class="btn btn-primary floating-btn" onclick="showSection('auth')">
                        <i class="fas fa-rocket"></i>
                        Commencer maintenant
                    </button>
                    <button class="btn btn-outline floating-btn" onclick="openModal('demoModal')">
                        <i class="fas fa-play"></i>
                        Voir la d√©mo
                    </button>
                </div>
            </div>

            <!-- Features -->
            <div class="grid grid-3" style="margin-top: 4rem;">
                <div class="card perspective-card">
                    <div style="text-align: center;">
                        <div style="width: 80px; height: 80px; background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent))); border-radius: 16px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem;">
                            <i class="fas fa-cloud" style="font-size: 2rem; color: hsl(var(--background));"></i>
                        </div>
                        <h3 style="margin-bottom: 1rem; color: hsl(var(--primary));">Stockage Cloud</h3>
                        <p style="color: hsl(var(--muted-foreground));">
                            Stockez vos fichiers en toute s√©curit√© dans le cloud avec un acc√®s instantan√©.
                        </p>
                    </div>
                </div>

                <div class="card perspective-card">
                    <div style="text-align: center;">
                        <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #8B5CF6, #A855F7); border-radius: 16px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem;">
                            <i class="fas fa-shield-alt" style="font-size: 2rem; color: white;"></i>
                        </div>
                        <h3 style="margin-bottom: 1rem; color: hsl(var(--primary));">S√©curit√© Avanc√©e</h3>
                        <p style="color: hsl(var(--muted-foreground));">
                            Chiffrement de bout en bout et authentification s√©curis√©e pour vos donn√©es.
                        </p>
                    </div>
                </div>

                <div class="card perspective-card">
                    <div style="text-align: center;">
                        <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #10B981, #059669); border-radius: 16px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem;">
                            <i class="fas fa-edit" style="font-size: 2rem; color: white;"></i>
                        </div>
                        <h3 style="margin-bottom: 1rem; color: hsl(var(--primary));">√âditeur WYSIWYG</h3>
                        <p style="color: hsl(var(--muted-foreground));">
                            Cr√©ez et modifiez vos documents avec un √©diteur professionnel int√©gr√©.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Files Section -->
    <section id="files" class="section" style="display: none;">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 3rem; font-size: 2.5rem; color: hsl(var(--primary));">Mes Fichiers</h2>
            
            <div style="text-align: center; margin-bottom: 2rem;">
                <button class="btn btn-primary floating-btn" onclick="openModal('uploadModal')">
                    <i class="fas fa-upload"></i>
                    T√©l√©charger un fichier
                </button>
            </div>

            <div class="file-grid" id="fileGrid">
                <!-- PDF File -->
                <div class="file-card perspective-card" onclick="openFilePreview('Rapport_Annuel.pdf', 'pdf', 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf')">
                    <div class="file-preview-thumb">
                        <i class="fas fa-file-pdf" style="font-size: 3rem; color: #DC2626;"></i>
                    </div>
                    <h4>Rapport_Annuel.pdf</h4>
                    <p style="color: hsl(var(--muted-foreground)); font-size: 0.9rem;">2.5 MB ‚Ä¢ PDF</p>
                    <div class="file-actions">
                        <button class="file-action-btn" onclick="event.stopPropagation(); openFilePreview('Rapport_Annuel.pdf', 'pdf', 'https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf')" title="Pr√©visualiser">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); downloadFile('Rapport_Annuel.pdf')" title="T√©l√©charger">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); shareFile('Rapport_Annuel.pdf')" title="Partager">
                            <i class="fas fa-share"></i>
                        </button>
                    </div>
                </div>

                <!-- Image File -->
                <div class="file-card perspective-card" onclick="openFilePreview('Vacation_Photo.jpg', 'image', 'https://picsum.photos/800/600?random=1')">
                    <div class="file-preview-thumb">
                        <img src="https://picsum.photos/200/120?random=1" alt="Vacation Photo" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
                    </div>
                    <h4>Vacation_Photo.jpg</h4>
                    <p style="color: hsl(var(--muted-foreground)); font-size: 0.9rem;">1.2 MB ‚Ä¢ JPEG</p>
                    <div class="file-actions">
                        <button class="file-action-btn" onclick="event.stopPropagation(); openFilePreview('Vacation_Photo.jpg', 'image', 'https://picsum.photos/800/600?random=1')" title="Pr√©visualiser">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); downloadFile('Vacation_Photo.jpg')" title="T√©l√©charger">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); editImage('Vacation_Photo.jpg')" title="√âditer">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                </div>

                <!-- Word Document -->
                <div class="file-card perspective-card" onclick="openFilePreview('Contrat_Travail.docx', 'document', null)">
                    <div class="file-preview-thumb">
                        <i class="fas fa-file-word" style="font-size: 3rem; color: #2563EB;"></i>
                    </div>
                    <h4>Contrat_Travail.docx</h4>
                    <p style="color: hsl(var(--muted-foreground)); font-size: 0.9rem;">0.8 MB ‚Ä¢ DOCX</p>
                    <div class="file-actions">
                        <button class="file-action-btn" onclick="event.stopPropagation(); openFilePreview('Contrat_Travail.docx', 'document', null)" title="Pr√©visualiser">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); showSection('editor')" title="√âditer">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); downloadFile('Contrat_Travail.docx')" title="T√©l√©charger">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                </div>

                <!-- Video File -->
                <div class="file-card perspective-card" onclick="openFilePreview('Presentation_Projet.mp4', 'video', 'https://www.w3schools.com/html/mov_bbb.mp4')">
                    <div class="file-preview-thumb" style="background: linear-gradient(135deg, #8B5CF6, #A855F7); display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-play" style="font-size: 2rem; color: white;"></i>
                    </div>
                    <h4>Presentation_Projet.mp4</h4>
                    <p style="color: hsl(var(--muted-foreground)); font-size: 0.9rem;">15.3 MB ‚Ä¢ MP4</p>
                    <div class="file-actions">
                        <button class="file-action-btn" onclick="event.stopPropagation(); openFilePreview('Presentation_Projet.mp4', 'video', 'https://www.w3schools.com/html/mov_bbb.mp4')" title="Lire">
                            <i class="fas fa-play"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); downloadFile('Presentation_Projet.mp4')" title="T√©l√©charger">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); shareFile('Presentation_Projet.mp4')" title="Partager">
                            <i class="fas fa-share"></i>
                        </button>
                    </div>
                </div>

                <!-- Text File -->
                <div class="file-card perspective-card" onclick="openFilePreview('Notes_Reunion.txt', 'text', null)">
                    <div class="file-preview-thumb">
                        <i class="fas fa-file-alt" style="font-size: 3rem; color: #10B981;"></i>
                    </div>
                    <h4>Notes_Reunion.txt</h4>
                    <p style="color: hsl(var(--muted-foreground)); font-size: 0.9rem;">45 KB ‚Ä¢ TXT</p>
                    <div class="file-actions">
                        <button class="file-action-btn" onclick="event.stopPropagation(); openFilePreview('Notes_Reunion.txt', 'text', null)" title="Pr√©visualiser">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); showSection('editor')" title="√âditer">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); shareFile('Notes_Reunion.txt')" title="Partager">
                            <i class="fas fa-share"></i>
                        </button>
                    </div>
                </div>

                <!-- Excel File -->
                <div class="file-card perspective-card" onclick="openFilePreview('Budget_2024.xlsx', 'spreadsheet', null)">
                    <div class="file-preview-thumb">
                        <i class="fas fa-file-excel" style="font-size: 3rem; color: #059669;"></i>
                    </div>
                    <h4>Budget_2024.xlsx</h4>
                    <p style="color: hsl(var(--muted-foreground)); font-size: 0.9rem;">1.8 MB ‚Ä¢ XLSX</p>
                    <div class="file-actions">
                        <button class="file-action-btn" onclick="event.stopPropagation(); openFilePreview('Budget_2024.xlsx', 'spreadsheet', null)" title="Pr√©visualiser">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); downloadFile('Budget_2024.xlsx')" title="T√©l√©charger">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="file-action-btn" onclick="event.stopPropagation(); shareViaSnapchat('Budget_2024.xlsx')" title="Snapchat">
                            <i class="fab fa-snapchat-ghost"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Editor Section -->
    <section id="editor" class="section" style="display: none;">
        <div class="container">
            <h2 style="text-align: center; margin-bottom: 3rem; font-size: 2.5rem; color: hsl(var(--primary));">√âditeur de Documents</h2>
            
            <div class="editor-container">
                <div class="editor-toolbar">
                    <button class="editor-btn" onclick="formatText('bold')" title="Gras">
                        <i class="fas fa-bold"></i>
                    </button>
                    <button class="editor-btn" onclick="formatText('italic')" title="Italique">
                        <i class="fas fa-italic"></i>
                    </button>
                    <button class="editor-btn" onclick="formatText('underline')" title="Soulign√©">
                        <i class="fas fa-underline"></i>
                    </button>
                    <button class="editor-btn" onclick="formatText('insertUnorderedList')" title="Liste">
                        <i class="fas fa-list-ul"></i>
                    </button>
                    <button class="editor-btn" onclick="formatText('insertOrderedList')" title="Liste num√©rot√©e">
                        <i class="fas fa-list-ol"></i>
                    </button>
                    <div style="border-left: 1px solid hsl(var(--border)); margin: 0 0.5rem; height: 30px;"></div>
                    <button class="editor-btn" onclick="toggleSavePanel()" title="Sauvegarder le document">
                        <i class="fas fa-save"></i>
                    </button>
                    <button class="editor-btn" onclick="toggleFilters()" title="Filtres couleur iPhone">
                        <i class="fas fa-palette"></i>
                    </button>
                    <button class="editor-btn" onclick="newDocument()" title="Nouveau document">
                        <i class="fas fa-file-plus"></i>
                    </button>
                    <button class="snapchat-btn" onclick="shareDocumentSnapchat()" title="Partager sur Snapchat" style="padding: 0.5rem; margin-left: 0.5rem;">
                        <i class="fab fa-snapchat-ghost"></i>
                    </button>
                </div>

                <!-- Save Panel -->
                <div class="editor-save-panel" id="savePanelEditor">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-save"></i> Enregistrer le document
                    </h4>
                    <div class="form-group">
                        <label class="form-label">Nom du document</label>
                        <input type="text" class="form-input" id="documentName" placeholder="Mon document" value="Mon Nouveau Document">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Dossier</label>
                        <select class="form-select" id="documentFolder">
                            <option value="mes-documents">üìÅ Mes Documents</option>
                            <option value="projets">üíº Projets</option>
                            <option value="personnel">üë§ Personnel</option>
                            <option value="travail">üè¢ Travail</option>
                            <option value="ecole">üéì √âcole</option>
                            <option value="nouveau-dossier">‚ûï Nouveau dossier...</option>
                        </select>
                    </div>
                    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                        <button class="btn btn-primary floating-btn" onclick="saveDocumentToFolder()">
                            <i class="fas fa-save"></i>
                            Enregistrer
                        </button>
                        <button class="btn btn-outline" onclick="toggleSavePanel()">
                            <i class="fas fa-times"></i>
                            Annuler
                        </button>
                    </div>
                </div>

                <!-- Color Filters iPhone-style -->
                <div class="editor-save-panel" id="filtersPanel">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-palette"></i> Filtres couleur iPhone
                    </h4>
                    <p style="color: hsl(var(--muted-foreground)); margin-bottom: 1rem; font-size: 0.9rem;">
                        Appliquez des filtres visuels √† votre document comme sur les photos iPhone
                    </p>
                    <div class="editor-filters">
                        <button class="filter-btn active" onclick="applyDocumentFilter('none')" data-filter="none">
                            <i class="fas fa-circle" style="color: #666;"></i>
                            Original
                        </button>
                        <button class="filter-btn" onclick="applyDocumentFilter('vivid')" data-filter="vivid">
                            <i class="fas fa-circle" style="color: #FF6B6B;"></i>
                            √âclatant
                        </button>
                        <button class="filter-btn" onclick="applyDocumentFilter('dramatic')" data-filter="dramatic">
                            <i class="fas fa-circle" style="color: #4ECDC4;"></i>
                            Spectaculaire
                        </button>
                        <button class="filter-btn" onclick="applyDocumentFilter('mono')" data-filter="mono">
                            <i class="fas fa-circle" style="color: #333;"></i>
                            Mono
                        </button>
                        <button class="filter-btn" onclick="applyDocumentFilter('silvertone')" data-filter="silvertone">
                            <i class="fas fa-circle" style="color: #999;"></i>
                            Argent√©
                        </button>
                        <button class="filter-btn" onclick="applyDocumentFilter('noir')" data-filter="noir">
                            <i class="fas fa-circle" style="color: #000;"></i>
                            Noir
                        </button>
                        <button class="filter-btn" onclick="applyDocumentFilter('warm')" data-filter="warm">
                            <i class="fas fa-circle" style="color: #F39C12;"></i>
                            Chaud
                        </button>
                        <button class="filter-btn" onclick="applyDocumentFilter('cool')" data-filter="cool">
                            <i class="fas fa-circle" style="color: #3498DB;"></i>
                            Froid
                        </button>
                    </div>
                    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                        <button class="btn btn-secondary floating-btn" onclick="resetDocumentFilter()">
                            <i class="fas fa-undo"></i>
                            R√©initialiser
                        </button>
                        <button class="btn btn-outline" onclick="toggleFilters()">
                            <i class="fas fa-times"></i>
                            Fermer
                        </button>
                    </div>
                </div>
                
                <div class="editor-content" contenteditable="true" id="editor" placeholder="Commencez √† √©crire votre document...">
                    <h1>Mon Nouveau Document</h1>
                    <p>Commencez √† √©crire ici...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- My Documents Section -->
    <section id="mes-documents" class="section" style="display: none; background: linear-gradient(135deg, hsl(var(--background)), hsl(var(--muted)/0.3));">
        <div class="container">
            <div style="text-align: center; margin-bottom: 3rem;">
                <h2 style="font-size: 2.5rem; color: hsl(var(--primary)); margin-bottom: 1rem;">
                    <i class="fas fa-folder-open"></i> Mes Documents
                </h2>
                <p style="color: hsl(var(--muted-foreground)); font-size: 1.1rem;">
                    Retrouvez tous vos documents enregistr√©s organis√©s par dossiers
                </p>
            </div>

            <!-- Documents Stats -->
            <div class="grid grid-3" style="margin-bottom: 3rem;">
                <div class="card perspective-card glass-effect neon-glow">
                    <div style="text-align: center;">
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #06D6A0, #118AB2); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-file-alt" style="color: white; font-size: 1.5rem;"></i>
                        </div>
                        <h3 id="totalDocuments" style="color: hsl(var(--primary)); font-size: 2rem; margin-bottom: 0.5rem;">0</h3>
                        <p style="color: hsl(var(--muted-foreground));">Documents Total</p>
                    </div>
                </div>
                
                <div class="card perspective-card glass-effect neon-glow">
                    <div style="text-align: center;">
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #FFD60A, #F77F00); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-folder" style="color: white; font-size: 1.5rem;"></i>
                        </div>
                        <h3 id="totalFolders" style="color: hsl(var(--primary)); font-size: 2rem; margin-bottom: 0.5rem;">0</h3>
                        <p style="color: hsl(var(--muted-foreground));">Dossiers</p>
                    </div>
                </div>
                
                <div class="card perspective-card glass-effect neon-glow">
                    <div style="text-align: center;">
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #8B5CF6, #A855F7); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-clock" style="color: white; font-size: 1.5rem;"></i>
                        </div>
                        <h3 id="lastModified" style="color: hsl(var(--primary)); font-size: 1.2rem; margin-bottom: 0.5rem;">-</h3>
                        <p style="color: hsl(var(--muted-foreground));">Derni√®re modification</p>
                    </div>
                </div>
            </div>

            <!-- Folders Grid -->
            <div id="foldersGrid" class="grid grid-2" style="margin-bottom: 3rem;">
                <!-- Folders will be populated by JavaScript -->
            </div>

            <!-- Documents List -->
            <div id="documentsContainer">
                <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
                    <h3 style="color: hsl(var(--primary)); margin: 0;">
                        <i class="fas fa-list"></i> Documents r√©cents
                    </h3>
                    <button class="btn btn-outline floating-btn" onclick="refreshDocuments()">
                        <i class="fas fa-sync-alt"></i> Actualiser
                    </button>
                </div>
                
                <div id="documentsList" class="grid grid-1" style="gap: 1rem;">
                    <!-- Documents will be populated by JavaScript -->
                </div>
            </div>

            <!-- Empty State -->
            <div id="emptyState" style="text-align: center; padding: 3rem; display: none;">
                <div style="width: 100px; height: 100px; background: linear-gradient(135deg, hsl(var(--muted)), hsl(var(--muted-foreground))); border-radius: 50%; margin: 0 auto 2rem; display: flex; align-items: center; justify-content: center; opacity: 0.7;">
                    <i class="fas fa-file-plus" style="font-size: 2.5rem; color: hsl(var(--background));"></i>
                </div>
                <h3 style="color: hsl(var(--muted-foreground)); margin-bottom: 1rem;">Aucun document enregistr√©</h3>
                <p style="color: hsl(var(--muted-foreground)); margin-bottom: 2rem;">
                    Commencez √† cr√©er vos premiers documents avec l'√©diteur !
                </p>
                <button class="btn btn-primary floating-btn" onclick="scrollToSection('editor')">
                    <i class="fas fa-edit"></i> Ouvrir l'√©diteur
                </button>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section" style="display: none;">
        <div class="container">
            <div style="text-align: center; margin-bottom: 4rem;">
                <!-- 3D Header with Snapchat Branding -->
                <div class="perspective-card neon-glow" style="display: inline-block; padding: 2rem 3rem; background: linear-gradient(135deg, #FFFC00, #FFD700, #FFA500); border-radius: 25px; margin-bottom: 2rem; transform: rotateX(5deg) rotateY(-5deg); box-shadow: 0 15px 40px rgba(255, 252, 0, 0.4);">
                    <i class="fab fa-snapchat-ghost" style="font-size: 4rem; color: #000; margin-bottom: 1rem; display: block; animation: bounce 2s infinite;"></i>
                    <h2 style="font-size: 2.5rem; color: #000; font-weight: 800; margin: 0; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">
                        Contactez-nous sur Snapchat ! üí™üèæ
                    </h2>
                </div>
                
                <p style="font-size: 1.2rem; color: hsl(var(--muted-foreground)); max-width: 600px; margin: 0 auto;">
                    Pour un support <strong>rapide</strong> et <strong>personnalis√©</strong>, contactez-nous directement via Snapchat ! 
                    Notre √©quipe vous r√©pond en temps r√©el avec des solutions adapt√©es.
                </p>
            </div>
            
            <!-- Main Snapchat Contact Card -->
            <div style="max-width: 800px; margin: 0 auto;">
                <div class="card perspective-card glass-effect neon-glow" style="background: linear-gradient(135deg, rgba(255, 252, 0, 0.1), rgba(255, 215, 0, 0.1)); border: 2px solid #FFFC00; padding: 3rem; text-align: center; transform: scale(1.05); box-shadow: 0 20px 60px rgba(255, 252, 0, 0.3);">
                    
                    <!-- Snapchat Logo 3D -->
                    <div style="position: relative; margin-bottom: 2rem;">
                        <div class="floating-btn" style="width: 120px; height: 120px; background: linear-gradient(135deg, #FFFC00, #FFD700); border-radius: 50%; margin: 0 auto; display: flex; align-items: center; justify-content: center; border: 4px solid #FFA500; box-shadow: 0 10px 30px rgba(255, 165, 0, 0.5);">
                            <i class="fab fa-snapchat-ghost" style="font-size: 4rem; color: #000;"></i>
                        </div>
                        
                        <!-- Animated circles around logo -->
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 140px; height: 140px; border: 2px dashed #FFFC00; border-radius: 50%; animation: rotate 10s linear infinite; opacity: 0.6;"></div>
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 160px; height: 160px; border: 1px solid #FFD700; border-radius: 50%; animation: rotate 15s linear infinite reverse; opacity: 0.4;"></div>
                    </div>

                    <h3 style="font-size: 2rem; color: hsl(var(--foreground)); margin-bottom: 1rem; font-weight: 700;">
                        üöÄ Support Instantan√© via Snapchat
                    </h3>
                    
                    <div style="margin: 2rem 0;">
                        <p style="font-size: 1.1rem; color: hsl(var(--muted-foreground)); margin-bottom: 1rem;">
                            <strong>‚ú® Pourquoi Snapchat ?</strong>
                        </p>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                            <div class="perspective-card" style="background: rgba(6, 214, 160, 0.1); border-radius: 12px; padding: 1rem;">
                                <i class="fas fa-bolt" style="color: #FFFC00; font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                                <p style="margin: 0; color: hsl(var(--foreground)); font-weight: 600;">R√©ponse Instantan√©e</p>
                            </div>
                            <div class="perspective-card" style="background: rgba(6, 214, 160, 0.1); border-radius: 12px; padding: 1rem;">
                                <i class="fas fa-camera" style="color: #FFFC00; font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                                <p style="margin: 0; color: hsl(var(--foreground)); font-weight: 600;">Support Visuel</p>
                            </div>
                            <div class="perspective-card" style="background: rgba(6, 214, 160, 0.1); border-radius: 12px; padding: 1rem;">
                                <i class="fas fa-heart" style="color: #FFFC00; font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                                <p style="margin: 0; color: hsl(var(--foreground)); font-weight: 600;">Support Humain</p>
                            </div>
                        </div>
                    </div>

                    <!-- Main CTA Button -->
                    <div style="margin: 2rem 0;">
                        <button class="floating-btn" onclick="window.open('https://snapchat.com/t/ZVBBKbCo', '_blank')" style="background: linear-gradient(135deg, #FFFC00, #FFD700); color: #000; font-size: 1.3rem; padding: 1rem 2rem; border-radius: 50px; border: none; font-weight: 800; cursor: pointer; box-shadow: 0 10px 30px rgba(255, 252, 0, 0.5); transform: scale(1.1); transition: all 0.3s ease;">
                            <i class="fab fa-snapchat-ghost" style="margin-right: 0.5rem; font-size: 1.5rem;"></i>
                            Ouvrir Snapchat - Support OneBox
                        </button>
                    </div>

                    <!-- Quick Info -->
                    <div style="background: rgba(0, 0, 0, 0.2); border-radius: 12px; padding: 1.5rem; margin-top: 2rem;">
                        <div style="display: flex; align-items: center; justify-content: center; gap: 1rem; margin-bottom: 1rem;">
                            <i class="fas fa-clock" style="color: #FFFC00;"></i>
                            <span style="color: hsl(var(--foreground)); font-weight: 600;">Support disponible 24h/24 - 7j/7</span>
                        </div>
                        <p style="color: hsl(var(--muted-foreground)); margin: 0; font-size: 0.95rem;">
                            üì± Scannez, envoyez un message ou cliquez directement sur le bouton ci-dessus !<br>
                            Notre √©quipe OneBox vous accompagne instantan√©ment pour toute question ou probl√®me.
                        </p>
                    </div>

                    <!-- Alternative if Snapchat not available -->
                    <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid rgba(255, 252, 0, 0.3);">
                        <p style="color: hsl(var(--muted-foreground)); font-size: 0.9rem; margin-bottom: 1rem;">
                            Snapchat non disponible ? Pas de probl√®me !
                        </p>
                        <button class="btn btn-outline floating-btn" onclick="copySnapchatLink()" style="margin-right: 1rem;">
                            <i class="fas fa-copy"></i>
                            Copier le lien
                        </button>
                        <button class="btn btn-secondary floating-btn" onclick="shareSnapchatLink()">
                            <i class="fas fa-share"></i>
                            Partager
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Authentication Section - Main page on load -->
    <section id="auth" class="section active" style="background: linear-gradient(135deg, hsl(var(--background)), hsl(var(--muted)/0.2)); min-height: 100vh; display: flex; align-items: center;">
        <div class="container">
            <div class="auth-container">
                <div class="auth-card perspective-card glass-effect neon-glow" style="transform: rotateX(5deg) rotateY(-2deg);">
                    <!-- 3D Logo Header -->
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <div class="floating-btn" style="width: 100px; height: 100px; background: linear-gradient(135deg, #06D6A0, #118AB2); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; box-shadow: 0 15px 40px rgba(6, 214, 160, 0.5);">
                            <i class="fas fa-box" style="font-size: 2.5rem; color: white;"></i>
                        </div>
                        <h1 class="font-poppins" style="color: hsl(var(--primary)); font-size: 2.5rem; margin-bottom: 0.5rem;">
                            OneBox üí™üèæ
                        </h1>
                        <p style="color: hsl(var(--muted-foreground)); font-size: 1.2rem;">
                            Votre espace personnel s√©curis√©
                        </p>
                    </div>

                    <!-- Face ID Option -->
                    <div id="faceIdOption" style="text-align: center; margin-bottom: 2rem; padding: 1.5rem; background: rgba(6, 214, 160, 0.1); border-radius: 15px; border: 2px dashed #06D6A0;">
                        <div class="floating-btn" style="width: 100px; height: 100px; background: linear-gradient(135deg, #000, #333); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden;">
                            <!-- Face ID Animation -->
                            <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle, transparent 30%, rgba(6, 214, 160, 0.3) 70%); animation: faceIdPulse 2s infinite;"></div>
                            <i class="fas fa-user-circle" style="font-size: 3rem; color: #06D6A0; z-index: 1;"></i>
                        </div>
                        <h3 style="color: hsl(var(--primary)); margin-bottom: 0.5rem;">
                            <i class="fas fa-fingerprint"></i> Face ID iPhone
                        </h3>
                        <p style="color: hsl(var(--muted-foreground)); margin-bottom: 1rem; font-size: 0.9rem;">
                            Connexion rapide et s√©curis√©e comme sur iPhone
                        </p>
                        <button class="btn btn-primary floating-btn" onclick="authenticateWithFaceId()" style="background: linear-gradient(135deg, #000, #333); border: 2px solid #06D6A0; padding: 1rem 2rem;">
                            <i class="fas fa-fingerprint"></i>
                            Utiliser Face ID
                        </button>
                    </div>

                    <!-- OR Divider -->
                    <div style="text-align: center; margin: 2rem 0; position: relative;">
                        <div style="height: 1px; background: hsl(var(--border)); margin: 1rem 0;"></div>
                        <span style="background: hsl(var(--card)); padding: 0 1rem; color: hsl(var(--muted-foreground)); position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">OU</span>
                    </div>

                    <!-- Login Form -->
                    <div id="loginForm">
                        <form onsubmit="loginWithCredentials(event)">
                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-user"></i> Nom d'utilisateur
                                </label>
                                <input type="text" id="loginUsername" class="form-input" placeholder="Votre nom d'utilisateur" required>
                            </div>

                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-lock"></i> Mot de passe
                                </label>
                                <input type="password" id="loginPassword" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                            </div>

                            <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                                <input type="checkbox" id="rememberMe" style="margin-right: 0.5rem;">
                                <label for="rememberMe" style="color: hsl(var(--muted-foreground)); font-size: 0.9rem;">Se souvenir de moi</label>
                            </div>

                            <button type="submit" class="btn btn-primary floating-btn" style="width: 100%; margin-bottom: 1rem;">
                                <i class="fas fa-sign-in-alt"></i>
                                Se connecter
                            </button>
                        </form>

                        <div style="text-align: center;">
                            <p style="color: hsl(var(--muted-foreground)); margin-bottom: 1rem;">Pas encore de compte ?</p>
                            <button class="btn btn-outline floating-btn" onclick="showRegister()" style="width: 100%;">
                                <i class="fas fa-user-plus"></i>
                                Cr√©er un compte
                            </button>
                        </div>
                    </div>

                    <!-- Register Form - Simplified without email -->
                    <div id="registerForm" style="display: none;">
                        <form onsubmit="registerNewUser(event)">
                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-user"></i> Nom d'utilisateur
                                </label>
                                <input type="text" id="regUsername" class="form-input" placeholder="Choisissez un nom d'utilisateur" required>
                            </div>

                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-lock"></i> Mot de passe
                                </label>
                                <input type="password" id="regPassword" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                            </div>

                            <div class="form-group">
                                <label class="form-label">
                                    <i class="fas fa-lock"></i> Confirmer le mot de passe
                                </label>
                                <input type="password" id="regPasswordConfirm" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                            </div>

                            <div style="background: rgba(6, 214, 160, 0.1); border-radius: 8px; padding: 1rem; margin-bottom: 1rem;">
                                <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
                                    <input type="checkbox" id="enableFaceId" style="margin-right: 0.5rem;">
                                    <label for="enableFaceId" style="color: hsl(var(--foreground)); font-weight: 600;">
                                        <i class="fas fa-fingerprint"></i> Activer Face ID
                                    </label>
                                </div>
                                <p style="color: hsl(var(--muted-foreground)); font-size: 0.8rem; margin: 0;">
                                    Connexion rapide avec reconnaissance faciale (simulation iPhone)
                                </p>
                            </div>

                            <button type="submit" class="btn btn-primary floating-btn" style="width: 100%; margin-bottom: 1rem;">
                                <i class="fas fa-user-plus"></i>
                                Cr√©er un compte
                            </button>
                        </form>

                        <div style="text-align: center;">
                            <p style="color: hsl(var(--muted-foreground)); margin-bottom: 1rem;">D√©j√† un compte ?</p>
                            <button class="btn btn-outline floating-btn" onclick="showLogin()" style="width: 100%;">
                                <i class="fas fa-sign-in-alt"></i>
                                Se connecter
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Loading Screen -->
    <div id="loadingScreen" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, hsl(var(--background)), hsl(var(--muted)/0.3)); z-index: 9999; align-items: center; justify-content: center;">
        <div style="text-align: center;">
            <div class="floating-btn" style="width: 120px; height: 120px; background: linear-gradient(135deg, #06D6A0, #118AB2); border-radius: 50%; margin: 0 auto 2rem; display: flex; align-items: center; justify-content: center; animation: bounce 1.5s infinite;">
                <i class="fas fa-box" style="font-size: 3rem; color: white;"></i>
            </div>
            <div class="perspective-card" style="background: linear-gradient(135deg, rgba(6, 214, 160, 0.2), rgba(6, 214, 160, 0.1)); padding: 2rem; border-radius: 20px; margin-bottom: 2rem;">
                <h2 style="color: hsl(var(--primary)); margin-bottom: 1rem; font-size: 1.8rem;">Chargement en cours...</h2>
                <p style="color: hsl(var(--muted-foreground)); margin-bottom: 2rem;">Acc√®s √† votre espace OneBox</p>
                
                <!-- Loading Bar -->
                <div style="width: 200px; height: 6px; background: hsl(var(--muted)); border-radius: 3px; margin: 0 auto; overflow: hidden;">
                    <div id="loadingBar" style="width: 0%; height: 100%; background: linear-gradient(135deg, #06D6A0, #118AB2); border-radius: 3px; transition: width 0.3s ease;"></div>
                </div>
            </div>
            <p style="color: hsl(var(--muted-foreground)); font-size: 0.9rem;">Pr√©paration de votre environnement s√©curis√© üí™üèæ</p>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>OneBox</h3>
                    <p style="color: hsl(var(--muted-foreground)); margin-bottom: 1rem;">
                        Votre solution de stockage cloud personnel et s√©curis√© avec des fonctionnalit√©s avanc√©es.
                    </p>
                    <div class="social-icons">
                        <a href="#" class="social-icon" onclick="openSnapchat()">
                            <i class="fab fa-snapchat-ghost"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="social-icon">
                            <i class="fab fa-linkedin"></i>
                        </a>
                    </div>
                </div>

                <div class="footer-section">
                    <h3>Produit</h3>
                    <ul>
                        <li><a href="#" onclick="showSection('files')">Stockage</a></li>
                        <li><a href="#" onclick="showSection('editor')">√âditeur</a></li>
                        <li><a href="#" onclick="openModal('pricingModal')">Tarifs</a></li>
                        <li><a href="#" onclick="openModal('featuresModal')">Fonctionnalit√©s</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="#" onclick="showSection('contact')">Contact</a></li>
                        <li><a href="#" onclick="openModal('helpModal')">Aide</a></li>
                        <li><a href="#" onclick="openModal('faqModal')">FAQ</a></li>
                        <li><a href="#" onclick="openSnapchat()">Snapchat Support</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>L√©gal</h3>
                    <ul>
                        <li><a href="#" onclick="openModal('privacyModal')">Confidentialit√©</a></li>
                        <li><a href="#" onclick="openModal('termsModal')">Conditions</a></li>
                        <li><a href="#" onclick="openModal('cookiesModal')">Cookies</a></li>
                    </ul>
                </div>
            </div>

            <div style="text-align: center; padding-top: 2rem; border-top: 1px solid hsl(var(--border)); color: hsl(var(--muted-foreground));">
                <p>&copy; 2024 OneBox. Tous droits r√©serv√©s. Made with üí™üèæ</p>
                <div style="margin-top: 1rem;">
                    <button class="btn btn-primary floating-btn" onclick="openModal('newsletterModal')">
                        <i class="fas fa-envelope"></i>
                        Newsletter
                    </button>
                    <button class="snapchat-btn" onclick="openSnapchat()" style="margin-left: 1rem;">
                        <i class="fab fa-snapchat-ghost"></i>
                        Snapchat
                    </button>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <!-- Demo Modal -->
    <div id="demoModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('demoModal')">
                <i class="fas fa-times"></i>
            </button>
            <h3 style="margin-bottom: 1.5rem; color: hsl(var(--primary)); text-align: center;">üé¨ D√©mo OneBox</h3>
            <div style="text-align: center;">
                <div style="position: relative; width: 100%; height: 315px; border-radius: 12px; overflow: hidden; margin-bottom: 1.5rem;">
                    <iframe 
                        id="demoVideo"
                        width="100%" 
                        height="315" 
                        src="https://player.kapwing.com/68c31739551bd4420c5cbfef" 
                        title="OneBox - D√©monstration Compl√®te" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen
                        style="border-radius: 12px;">
                    </iframe>
                </div>
                <p style="color: hsl(var(--muted-foreground)); margin-bottom: 1rem;">
                    üöÄ D√©couvrez toutes les fonctionnalit√©s de OneBox : stockage cloud, √©diteur, Face ID iPhone, et bien plus !
                </p>
                <button class="btn btn-primary floating-btn" onclick="window.open('https://snapchat.com/t/ZVBBKbCo', '_blank')">
                    <i class="fab fa-snapchat-ghost"></i>
                    Questions ? Contact Snapchat
                </button>
            </div>
        </div>
    </div>

    <!-- Upload Modal -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('uploadModal')">
                <i class="fas fa-times"></i>
            </button>
            <h3 style="margin-bottom: 1.5rem; color: hsl(var(--primary));">T√©l√©charger un fichier</h3>
            <div style="border: 2px dashed hsl(var(--border)); border-radius: 12px; padding: 3rem; text-align: center; margin-bottom: 1.5rem;">
                <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; color: hsl(var(--primary)); margin-bottom: 1rem;"></i>
                <p>Glissez-d√©posez vos fichiers ici ou cliquez pour s√©lectionner</p>
                <input type="file" multiple style="display: none;" id="fileInput" onchange="uploadFiles(this.files)">
                <button class="btn btn-outline" onclick="document.getElementById('fileInput').click()">
                    Choisir des fichiers
                </button>
            </div>
        </div>
    </div>

    <!-- Newsletter Modal -->
    <div id="newsletterModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('newsletterModal')">
                <i class="fas fa-times"></i>
            </button>
            <h3 style="margin-bottom: 1.5rem; color: hsl(var(--primary));">Newsletter OneBox</h3>
            <p style="margin-bottom: 1.5rem; color: hsl(var(--muted-foreground));">
                Restez inform√© des derni√®res nouveaut√©s et mises √† jour de OneBox.
            </p>
            <form onsubmit="subscribeNewsletter(event)">
                <div class="form-group">
                    <input type="email" class="form-input" placeholder="votre@email.com" required>
                </div>
                <button type="submit" class="btn btn-primary floating-btn" style="width: 100%;">
                    <i class="fas fa-paper-plane"></i>
                    S'abonner
                </button>
            </form>
        </div>
    </div>

    <!-- Pricing Modal -->
    <div id="pricingModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <button class="modal-close" onclick="closeModal('pricingModal')">
                <i class="fas fa-times"></i>
            </button>
            <h3 style="margin-bottom: 2rem; color: hsl(var(--primary)); text-align: center;">Nos Tarifs</h3>
            <div class="grid grid-2" style="gap: 1rem;">
                <div class="card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">Gratuit</h4>
                    <p style="font-size: 2rem; font-weight: bold; margin-bottom: 1rem;">0‚Ç¨</p>
                    <ul style="list-style: none; margin-bottom: 1.5rem;">
                        <li>‚úì 5 GB de stockage</li>
                        <li>‚úì √âditeur de base</li>
                        <li>‚úì Support email</li>
                    </ul>
                    <button class="btn btn-outline floating-btn" onclick="choosePlan('free')" style="width: 100%;">Commencer</button>
                </div>
                <div class="card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">Pro</h4>
                    <p style="font-size: 2rem; font-weight: bold; margin-bottom: 1rem;">9‚Ç¨<span style="font-size: 1rem;">/mois</span></p>
                    <ul style="list-style: none; margin-bottom: 1.5rem;">
                        <li>‚úì 100 GB de stockage</li>
                        <li>‚úì √âditeur avanc√©</li>
                        <li>‚úì Support prioritaire</li>
                        <li>‚úì Snapchat int√©gration</li>
                    </ul>
                    <button class="btn btn-primary floating-btn" onclick="choosePlan('pro')" style="width: 100%;">Choisir Pro</button>
                </div>
            </div>
        </div>
    </div>

    <!-- FAQ Modal -->
    <div id="faqModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('faqModal')">
                <i class="fas fa-times"></i>
            </button>
            <h3 style="margin-bottom: 2rem; color: hsl(var(--primary));">Questions Fr√©quentes</h3>
            <div style="space-y: 1rem;">
                <div style="margin-bottom: 1.5rem;">
                    <h4 style="color: hsl(var(--foreground)); margin-bottom: 0.5rem;">Comment fonctionne OneBox ?</h4>
                    <p style="color: hsl(var(--muted-foreground));">OneBox est une plateforme de stockage cloud s√©curis√©e qui vous permet de stocker, organiser et √©diter vos fichiers en ligne.</p>
                </div>
                <div style="margin-bottom: 1.5rem;">
                    <h4 style="color: hsl(var(--foreground)); margin-bottom: 0.5rem;">Mes donn√©es sont-elles s√©curis√©es ?</h4>
                    <p style="color: hsl(var(--muted-foreground));">Oui, nous utilisons un chiffrement de bout en bout et des protocoles de s√©curit√© avanc√©s pour prot√©ger vos donn√©es.</p>
                </div>
                <div style="margin-bottom: 1.5rem;">
                    <h4 style="color: hsl(var(--foreground)); margin-bottom: 0.5rem;">Comment contacter le support via Snapchat ?</h4>
                    <p style="color: hsl(var(--muted-foreground));">Ajoutez @onebox_support sur Snapchat pour un support rapide et personnalis√© avec notre √©quipe.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Features Modal -->
    <div id="featuresModal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <button class="modal-close" onclick="closeModal('featuresModal')">
                <i class="fas fa-times"></i>
            </button>
            <h3 style="margin-bottom: 2rem; color: hsl(var(--primary)); text-align: center;">Fonctionnalit√©s OneBox</h3>
            <div class="grid grid-2" style="gap: 1.5rem;">
                <div class="card perspective-card">
                    <div class="neon-glow" style="padding: 1rem;">
                        <i class="fas fa-cloud-upload-alt" style="font-size: 2.5rem; color: hsl(var(--primary)); margin-bottom: 1rem;"></i>
                        <h4>Stockage Cloud S√©curis√©</h4>
                        <p style="color: hsl(var(--muted-foreground));">Stockez tous vos fichiers en toute s√©curit√© dans le cloud avec chiffrement de bout en bout.</p>
                    </div>
                </div>
                <div class="card perspective-card">
                    <div class="neon-glow" style="padding: 1rem;">
                        <i class="fas fa-edit" style="font-size: 2.5rem; color: hsl(var(--primary)); margin-bottom: 1rem;"></i>
                        <h4>√âditeur WYSIWYG</h4>
                        <p style="color: hsl(var(--muted-foreground));">Cr√©ez et √©ditez vos documents avec un √©diteur visuel puissant et intuitif.</p>
                    </div>
                </div>
                <div class="card perspective-card">
                    <div class="neon-glow" style="padding: 1rem;">
                        <i class="fab fa-snapchat-ghost" style="font-size: 2.5rem; color: hsl(var(--primary)); margin-bottom: 1rem;"></i>
                        <h4>Int√©gration Snapchat</h4>
                        <p style="color: hsl(var(--muted-foreground));">Partagez instantan√©ment vos fichiers et documents via Snapchat.</p>
                    </div>
                </div>
                <div class="card perspective-card">
                    <div class="neon-glow" style="padding: 1rem;">
                        <i class="fas fa-mobile-alt" style="font-size: 2.5rem; color: hsl(var(--primary)); margin-bottom: 1rem;"></i>
                        <h4>Design Responsive</h4>
                        <p style="color: hsl(var(--muted-foreground));">Acc√©dez √† vos fichiers depuis n'importe quel appareil avec une interface adaptative.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('helpModal')">
                <i class="fas fa-times"></i>
            </button>
            <h3 style="margin-bottom: 2rem; color: hsl(var(--primary));">Centre d'Aide OneBox</h3>
            <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-rocket"></i> Premiers pas
                    </h4>
                    <p style="color: hsl(var(--muted-foreground));">Apprenez les bases de OneBox : t√©l√©chargement de fichiers, navigation, et utilisation de l'√©diteur.</p>
                    <button class="btn btn-outline floating-btn" onclick="showGuide()" style="margin-top: 1rem;">Voir le guide</button>
                </div>
                
                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fab fa-snapchat-ghost"></i> Support Snapchat
                    </h4>
                    <p style="color: hsl(var(--muted-foreground));">Besoin d'aide rapide ? Contactez-nous directement via Snapchat pour un support personnalis√©.</p>
                    <button class="snapchat-btn floating-btn" onclick="window.open('https://snapchat.com/t/ZVBBKbCo', '_blank')" style="margin-top: 1rem;">
                        <i class="fab fa-snapchat-ghost"></i>
                        Contacter sur Snapchat
                    </button>
                </div>

                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-book"></i> Documentation
                    </h4>
                    <p style="color: hsl(var(--muted-foreground));">Consultez notre documentation compl√®te pour ma√Ætriser toutes les fonctionnalit√©s avanc√©es.</p>
                    <button class="btn btn-outline floating-btn" onclick="showDocumentation()" style="margin-top: 1rem;">Consulter la documentation</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Privacy Modal -->
    <div id="privacyModal" class="modal">
        <div class="modal-content" style="max-width: 600px; max-height: 80vh; overflow-y: auto;">
            <button class="modal-close" onclick="closeModal('privacyModal')">
                <i class="fas fa-times"></i>
            </button>
            <h3 style="margin-bottom: 2rem; color: hsl(var(--primary));">Politique de Confidentialit√©</h3>
            <div style="line-height: 1.6; color: hsl(var(--muted-foreground));">
                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">1. Collecte des donn√©es</h4>
                <p>OneBox collecte uniquement les donn√©es n√©cessaires au fonctionnement de la plateforme : informations de compte, fichiers t√©l√©charg√©s, et m√©tadonn√©es associ√©es.</p>

                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">2. Utilisation des donn√©es</h4>
                <p>Vos donn√©es sont utilis√©es exclusivement pour fournir nos services de stockage cloud et d'√©dition de documents. Nous ne vendons jamais vos donn√©es personnelles.</p>

                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">3. S√©curit√©</h4>
                <p>Tous vos fichiers sont chiffr√©s de bout en bout. Nous utilisons des protocoles de s√©curit√© de niveau entreprise pour prot√©ger vos donn√©es.</p>

                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">4. Int√©gration Snapchat</h4>
                <p>L'int√©gration Snapchat est optionnelle et ne partage que les fichiers que vous choisissez explicitement de partager.</p>

                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">5. Vos droits</h4>
                <p>Vous pouvez √† tout moment acc√©der, modifier ou supprimer vos donn√©es personnelles via votre compte OneBox.</p>
                
                <div style="margin-top: 2rem; padding: 1rem; background: hsl(var(--card)); border-radius: 8px;">
                    <p><strong>Derni√®re mise √† jour :</strong> 10 septembre 2024</p>
                    <button class="snapchat-btn floating-btn" onclick="window.open('https://snapchat.com/t/ZVBBKbCo', '_blank')" style="margin-top: 1rem;">
                        <i class="fab fa-snapchat-ghost"></i>
                        Questions ? Snapchat
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div id="termsModal" class="modal">
        <div class="modal-content" style="max-width: 600px; max-height: 80vh; overflow-y: auto;">
            <button class="modal-close" onclick="closeModal('termsModal')">
                <i class="fas fa-times"></i>
            </button>
            <h3 style="margin-bottom: 2rem; color: hsl(var(--primary));">Conditions d'Utilisation</h3>
            <div style="line-height: 1.6; color: hsl(var(--muted-foreground));">
                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">1. Acceptation des conditions</h4>
                <p>En utilisant OneBox, vous acceptez ces conditions d'utilisation dans leur int√©gralit√©. Si vous n'acceptez pas ces conditions, veuillez ne pas utiliser notre service.</p>

                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">2. Services fournis</h4>
                <p>OneBox fournit une plateforme de stockage cloud s√©curis√©e avec des fonctionnalit√©s d'√©dition de documents et d'int√©gration sociale via Snapchat.</p>

                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">3. Utilisation acceptable</h4>
                <p>Vous vous engagez √† utiliser OneBox de mani√®re l√©gale et responsable. Tout contenu ill√©gal, offensant ou malveillant est strictement interdit.</p>

                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">4. Propri√©t√© intellectuelle</h4>
                <p>Vos fichiers vous appartiennent. OneBox ne revendique aucun droit sur le contenu que vous t√©l√©chargez, √† l'exception des droits n√©cessaires pour fournir le service.</p>

                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">5. Limitation de responsabilit√©</h4>
                <p>OneBox s'efforce de maintenir un service de haute qualit√© mais ne peut garantir une disponibilit√© de 100%. Nous recommandons de conserver des sauvegardes de vos fichiers importants.</p>

                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">6. R√©siliation</h4>
                <p>Vous pouvez r√©silier votre compte √† tout moment. OneBox se r√©serve le droit de suspendre des comptes qui violeraient ces conditions.</p>
                
                <div style="margin-top: 2rem; padding: 1rem; background: hsl(var(--card)); border-radius: 8px;">
                    <p><strong>Derni√®re mise √† jour :</strong> 10 septembre 2024</p>
                    <p><strong>OneBox SAS</strong> - 123 Avenue Innovation, 75001 Paris, France</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Cookies Modal -->
    <div id="cookiesModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('cookiesModal')">
                <i class="fas fa-times"></i>
            </button>
            <h3 style="margin-bottom: 2rem; color: hsl(var(--primary));">Politique des Cookies</h3>
            <div style="line-height: 1.6; color: hsl(var(--muted-foreground));">
                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">Qu'est-ce qu'un cookie ?</h4>
                <p>Les cookies sont de petits fichiers texte stock√©s sur votre appareil pour am√©liorer votre exp√©rience sur OneBox.</p>

                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">Types de cookies utilis√©s</h4>
                <div style="margin: 1rem 0;">
                    <div class="card" style="margin-bottom: 1rem;">
                        <h5 style="color: hsl(var(--primary)); margin-bottom: 0.5rem;">üîê Cookies essentiels</h5>
                        <p>N√©cessaires pour le fonctionnement de base de OneBox (connexion, s√©curit√©).</p>
                    </div>
                    <div class="card" style="margin-bottom: 1rem;">
                        <h5 style="color: hsl(var(--primary)); margin-bottom: 0.5rem;">üìä Cookies analytiques</h5>
                        <p>Nous aident √† comprendre l'utilisation de OneBox pour am√©liorer l'exp√©rience.</p>
                    </div>
                    <div class="card" style="margin-bottom: 1rem;">
                        <h5 style="color: hsl(var(--primary)); margin-bottom: 0.5rem;">üéØ Cookies de pr√©f√©rence</h5>
                        <p>M√©morisent vos pr√©f√©rences (th√®me, langue, param√®tres d'affichage).</p>
                    </div>
                </div>

                <h4 style="color: hsl(var(--foreground)); margin: 1.5rem 0 1rem 0;">Gestion des cookies</h4>
                <p>Vous pouvez g√©rer vos pr√©f√©rences de cookies dans les param√®tres de votre navigateur. Note : D√©sactiver certains cookies peut affecter les fonctionnalit√©s de OneBox.</p>
                
                <div style="margin-top: 2rem; text-align: center;">
                    <button class="btn btn-primary floating-btn" onclick="acceptAllCookies()">
                        <i class="fas fa-check"></i>
                        Accepter tous les cookies
                    </button>
                    <button class="btn btn-outline" onclick="manageCookiePreferences()" style="margin-left: 1rem;">
                        <i class="fas fa-cog"></i>
                        G√©rer les pr√©f√©rences
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Guide Modal -->
    <div id="guideModal" class="modal">
        <div class="modal-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto;">
            <button class="modal-close" onclick="closeModal('guideModal')">
                <i class="fas fa-times"></i>
            </button>
            <div style="text-align: center; margin-bottom: 2rem;">
                <div class="floating-btn" style="width: 80px; height: 80px; background: linear-gradient(135deg, #06D6A0, #118AB2); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-rocket" style="font-size: 2rem; color: white;"></i>
                </div>
                <h3 style="color: hsl(var(--primary)); font-size: 2rem;">üöÄ Guide OneBox</h3>
                <p style="color: hsl(var(--muted-foreground));">Apprenez √† ma√Ætriser votre espace personnel</p>
            </div>

            <div style="display: grid; gap: 1.5rem;">
                <!-- Section 1: Premiers pas -->
                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-play"></i> 1. Premiers Pas
                    </h4>
                    <ul style="color: hsl(var(--muted-foreground)); line-height: 1.8;">
                        <li>‚úÖ <strong>Inscription :</strong> Cr√©ez votre compte avec juste un nom d'utilisateur et mot de passe</li>
                        <li>‚úÖ <strong>Face ID :</strong> Activez l'authentification iPhone pour une connexion rapide</li>
                        <li>‚úÖ <strong>Navigation :</strong> Utilisez le menu pour acc√©der aux diff√©rentes sections</li>
                    </ul>
                </div>

                <!-- Section 2: Gestion des fichiers -->
                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-folder"></i> 2. Gestion des Fichiers
                    </h4>
                    <ul style="color: hsl(var(--muted-foreground)); line-height: 1.8;">
                        <li>üìÇ <strong>T√©l√©charger :</strong> Glissez-d√©posez vos fichiers ou cliquez "T√©l√©charger"</li>
                        <li>üëÅÔ∏è <strong>Pr√©visualiser :</strong> Cliquez sur un fichier pour l'ouvrir en aper√ßu</li>
                        <li>üì§ <strong>Partager :</strong> Envoyez vos fichiers via les options de partage</li>
                        <li>üóÇÔ∏è <strong>Organiser :</strong> Cr√©ez des dossiers pour classer vos documents</li>
                    </ul>
                </div>

                <!-- Section 3: √âditeur -->
                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-edit"></i> 3. √âditeur WYSIWYG
                    </h4>
                    <ul style="color: hsl(var(--muted-foreground)); line-height: 1.8;">
                        <li>‚úèÔ∏è <strong>Cr√©er :</strong> Nouveau document avec mise en forme avanc√©e</li>
                        <li>üíæ <strong>Sauvegarder :</strong> Vos modifications sont automatiquement sauv√©es</li>
                        <li>üìÑ <strong>Exporter :</strong> T√©l√©chargez en PDF, Word, ou autres formats</li>
                        <li>üé® <strong>Styliser :</strong> Polices, couleurs, images et tableaux</li>
                    </ul>
                </div>

                <!-- Section 4: Mes Documents -->
                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-file-alt"></i> 4. Mes Documents
                    </h4>
                    <ul style="color: hsl(var(--muted-foreground)); line-height: 1.8;">
                        <li>üìö <strong>Organisation :</strong> Tous vos documents dans un seul endroit</li>
                        <li>üîç <strong>Recherche :</strong> Trouvez rapidement vos fichiers par nom</li>
                        <li>üìÖ <strong>Tri :</strong> Par date, nom, type ou taille</li>
                        <li>üíæ <strong>Persistence :</strong> Vos documents sont sauv√©s en local</li>
                    </ul>
                </div>

                <!-- Section 5: Support -->
                <div class="card perspective-card" style="background: linear-gradient(135deg, #FFFC00, #FFD700); color: #000;">
                    <h4 style="color: #000; margin-bottom: 1rem;">
                        <i class="fab fa-snapchat-ghost"></i> 5. Support Snapchat Premium
                    </h4>
                    <ul style="color: #333; line-height: 1.8;">
                        <li>üìû <strong>Contact Direct :</strong> Support personnalis√© via Snapchat</li>
                        <li>‚ö° <strong>R√©ponse Rapide :</strong> √âquipe disponible pour vos questions</li>
                        <li>üîß <strong>Assistance Technique :</strong> Aide pour toutes les fonctionnalit√©s</li>
                        <li>üíé <strong>Premium :</strong> Acc√®s privil√©gi√© avec le plan Pro</li>
                    </ul>
                    <button class="snapchat-btn floating-btn" onclick="window.open('https://snapchat.com/t/ZVBBKbCo', '_blank')" style="margin-top: 1rem; background: #000; color: #FFFC00;">
                        <i class="fab fa-snapchat-ghost"></i>
                        Contacter le Support
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Documentation Modal -->
    <div id="documentationModal" class="modal">
        <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
            <button class="modal-close" onclick="closeModal('documentationModal')">
                <i class="fas fa-times"></i>
            </button>
            <div style="text-align: center; margin-bottom: 2rem;">
                <div class="floating-btn" style="width: 80px; height: 80px; background: linear-gradient(135deg, #118AB2, #06D6A0); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-book" style="font-size: 2rem; color: white;"></i>
                </div>
                <h3 style="color: hsl(var(--primary)); font-size: 2rem;">üìö Documentation OneBox</h3>
                <p style="color: hsl(var(--muted-foreground));">Documentation technique compl√®te</p>
            </div>

            <div style="display: grid; gap: 2rem;">
                <!-- Architecture -->
                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-cogs"></i> Architecture Technique
                    </h4>
                    <div style="color: hsl(var(--muted-foreground)); line-height: 1.8;">
                        <p><strong>Frontend :</strong> HTML5, CSS3, JavaScript ES6+</p>
                        <p><strong>Stockage :</strong> LocalStorage pour persistence des donn√©es</p>
                        <p><strong>Design :</strong> CSS Grid, Flexbox, animations 3D</p>
                        <p><strong>Responsive :</strong> Mobile-first avec breakpoints adaptatifs</p>
                        <p><strong>Authentification :</strong> Simulation Face ID iPhone avec localStorage</p>
                    </div>
                </div>

                <!-- API & Fonctionnalit√©s -->
                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-code"></i> API & Fonctionnalit√©s
                    </h4>
                    <div style="color: hsl(var(--muted-foreground)); line-height: 1.8;">
                        <p><strong>Gestion Utilisateurs :</strong></p>
                        <ul>
                            <li><code>registerNewUser()</code> - Inscription simplifi√©e</li>
                            <li><code>loginWithCredentials()</code> - Connexion classique</li>
                            <li><code>authenticateWithFaceId()</code> - Authentification biom√©trique</li>
                        </ul>
                        
                        <p><strong>Gestion Fichiers :</strong></p>
                        <ul>
                            <li><code>uploadFile()</code> - T√©l√©chargement de fichiers</li>
                            <li><code>previewFile()</code> - Aper√ßu multi-format</li>
                            <li><code>downloadFile()</code> - T√©l√©chargement local</li>
                            <li><code>shareFile()</code> - Partage social</li>
                        </ul>
                    </div>
                </div>

                <!-- Stockage & Persistence -->
                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-database"></i> Stockage & Persistence
                    </h4>
                    <div style="color: hsl(var(--muted-foreground)); line-height: 1.8;">
                        <p><strong>LocalStorage Keys :</strong></p>
                        <ul>
                            <li><code>oneboxUsers</code> - Base de donn√©es utilisateurs</li>
                            <li><code>oneboxCurrentUser</code> - Session utilisateur actuel</li>
                            <li><code>oneboxDocuments</code> - Documents sauvegard√©s</li>
                            <li><code>oneboxSettings</code> - Pr√©f√©rences utilisateur</li>
                        </ul>
                        
                        <p><strong>Structure Donn√©es :</strong></p>
                        <pre style="background: hsl(var(--muted)); padding: 1rem; border-radius: 8px; overflow-x: auto; font-size: 0.9rem;">
{
  "username": "string",
  "password": "string", 
  "faceIdEnabled": boolean,
  "documents": [...],
  "settings": {...}
}</pre>
                    </div>
                </div>

                <!-- S√©curit√© -->
                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-shield-alt"></i> S√©curit√© & Bonnes Pratiques
                    </h4>
                    <div style="color: hsl(var(--muted-foreground)); line-height: 1.8;">
                        <p><strong>Authentification :</strong></p>
                        <ul>
                            <li>üîê Mots de passe stock√©s localement (demo uniquement)</li>
                            <li>üì± Face ID avec animation authentique iPhone</li>
                            <li>üîÑ Sessions persistantes avec localStorage</li>
                        </ul>
                        
                        <p><strong>Donn√©es :</strong></p>
                        <ul>
                            <li>üíæ Stockage local s√©curis√©</li>
                            <li>üîÑ Sauvegarde automatique des documents</li>
                            <li>üö´ Aucune donn√©e envoy√©e vers serveurs externes</li>
                        </ul>
                    </div>
                </div>

                <!-- Configuration -->
                <div class="card perspective-card">
                    <h4 style="color: hsl(var(--primary)); margin-bottom: 1rem;">
                        <i class="fas fa-wrench"></i> Configuration & Personnalisation
                    </h4>
                    <div style="color: hsl(var(--muted-foreground)); line-height: 1.8;">
                        <p><strong>Variables CSS :</strong> Syst√®me de th√®me avec custom properties</p>
                        <p><strong>Responsive :</strong> Breakpoints √† 768px et 480px</p>
                        <p><strong>Animations :</strong> CSS3 transforms et keyframes 3D</p>
                        <p><strong>Icons :</strong> FontAwesome 6.0+ pour ic√¥nes</p>
                        <p><strong>Performance :</strong> SPA optimis√©, lazy loading modales</p>
                    </div>
                </div>

                <!-- Contact Support -->
                <div class="card perspective-card" style="background: linear-gradient(135deg, #FFFC00, #FFD700); color: #000;">
                    <h4 style="color: #000; margin-bottom: 1rem;">
                        <i class="fab fa-snapchat-ghost"></i> Support D√©veloppeur
                    </h4>
                    <p style="color: #333; margin-bottom: 1rem;">
                        Questions techniques ? Besoin d'aide pour l'int√©gration ? 
                        Notre √©quipe de d√©veloppement est disponible sur Snapchat !
                    </p>
                    <button class="snapchat-btn floating-btn" onclick="window.open('https://snapchat.com/t/ZVBBKbCo', '_blank')" style="background: #000; color: #FFFC00;">
                        <i class="fab fa-snapchat-ghost"></i>
                        Support Technique
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- File Preview Modal -->
    <div id="filePreviewModal" class="modal file-preview-modal">
        <div class="modal-content">
            <div class="file-preview-container">
                <div class="file-preview-header">
                    <div>
                        <h3 id="fileName" style="color: hsl(var(--primary)); margin: 0;">Fichier</h3>
                        <p id="fileInfo" style="color: hsl(var(--muted-foreground)); margin: 0; font-size: 0.9rem;">Information du fichier</p>
                    </div>
                    <div class="zoom-controls" id="zoomControls" style="position: relative;">
                        <button class="zoom-btn" onclick="zoomOut()" title="Zoom arri√®re">
                            <i class="fas fa-search-minus"></i>
                        </button>
                        <button class="zoom-btn" onclick="resetZoom()" title="Taille r√©elle">
                            <i class="fas fa-expand-arrows-alt"></i>
                        </button>
                        <button class="zoom-btn" onclick="zoomIn()" title="Zoom avant">
                            <i class="fas fa-search-plus"></i>
                        </button>
                    </div>
                    <button class="modal-close" onclick="closeModal('filePreviewModal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="file-preview-content" id="filePreviewContent">
                    <div class="loading-spinner" id="loadingSpinner">
                        <div class="spinner"></div>
                        <p style="margin-top: 1rem;">Chargement du fichier...</p>
                    </div>
                </div>

                <div class="file-info-panel">
                    <div class="file-info-item">
                        <i class="fas fa-file"></i>
                        <span id="fileType">Type de fichier</span>
                    </div>
                    <div class="file-info-item">
                        <i class="fas fa-hdd"></i>
                        <span id="fileSize">Taille du fichier</span>
                    </div>
                    <div class="file-info-item">
                        <i class="fas fa-calendar"></i>
                        <span id="fileDate">Date de modification</span>
                    </div>
                    <div class="file-info-item">
                        <i class="fas fa-eye"></i>
                        <span id="fileViews">Vues: 0</span>
                    </div>
                </div>

                <div class="file-preview-actions">
                    <button class="btn btn-primary floating-btn" onclick="downloadCurrentFile()">
                        <i class="fas fa-download"></i>
                        T√©l√©charger
                    </button>
                    <button class="btn btn-outline floating-btn" onclick="shareCurrentFile()">
                        <i class="fas fa-share"></i>
                        Partager
                    </button>
                    <button class="snapchat-btn" onclick="shareCurrentFileSnapchat()">
                        <i class="fab fa-snapchat-ghost"></i>
                        Snapchat
                    </button>
                    <button class="btn btn-secondary floating-btn" onclick="editCurrentFile()">
                        <i class="fas fa-edit"></i>
                        √âditer
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Toast -->
    <div id="toast" style="position: fixed; top: 20px; right: 20px; background: hsl(var(--card)); border: 1px solid hsl(var(--border)); border-radius: 12px; padding: 1rem; display: none; z-index: 3000; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);">
        <div style="display: flex; align-items: center; gap: 0.5rem;">
            <i class="fas fa-check-circle" style="color: hsl(var(--primary));"></i>
            <span id="toastMessage">Message envoy√© avec succ√®s !</span>
        </div>
    </div>

    <script>
        // Navigation
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Update nav links
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => link.classList.remove('active'));
            
            const activeLink = document.querySelector(`[data-section="${sectionId}"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
            
            // Close mobile menu if open
            const navMenu = document.getElementById('navMenu');
            navMenu.classList.remove('active');
        }

        function toggleMobileMenu() {
            const navMenu = document.getElementById('navMenu');
            navMenu.classList.toggle('active');
        }

        // Modals
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            document.body.style.overflow = 'auto';
            
            // Stop video when closing demo modal
            if (modalId === 'demoModal') {
                const demoVideo = document.getElementById('demoVideo');
                if (demoVideo) {
                    // Reset iframe to stop video playback
                    const src = demoVideo.src;
                    demoVideo.src = '';
                    demoVideo.src = src;
                }
            }
        }

        // Close modal when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                closeModal(e.target.id);
            }
        });

        // Authentication
        function showLogin() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('registerForm').style.display = 'none';
        }

        function showRegister() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
        }

        function login(event) {
            event.preventDefault();
            showToast('Connexion r√©ussie ! Bienvenue dans OneBox üí™üèæ');
            setTimeout(() => {
                showSection('home');
            }, 1500);
        }

        function register(event) {
            event.preventDefault();
            showToast('Compte cr√©√© avec succ√®s ! Bienvenue dans OneBox üí™üèæ');
            setTimeout(() => {
                showSection('home');
            }, 1500);
        }

        // Editor
        function formatText(command) {
            document.execCommand(command, false, null);
            document.getElementById('editor').focus();
        }

        function saveDocument() {
            const content = document.getElementById('editor').innerHTML;
            showToast('Document sauvegard√© avec succ√®s !');
            // Here you would typically send the content to a server
        }

        // Contact Form
        function submitContactForm(event) {
            event.preventDefault();
            showToast('Message envoy√© avec succ√®s ! Nous vous r√©pondrons rapidement.');
            event.target.reset();
        }

        // Newsletter
        function subscribeNewsletter(event) {
            event.preventDefault();
            showToast('Inscription √† la newsletter r√©ussie !');
            closeModal('newsletterModal');
            event.target.reset();
        }

        // Snapchat Integration
        function openSnapchat() {
            // Try to open Snapchat app first, fallback to web
            const snapchatUrl = 'https://www.snapchat.com/add/onebox_support';
            const appUrl = 'snapchat://add/onebox_support';
            
            // Create a hidden iframe to try opening the app
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            iframe.src = appUrl;
            document.body.appendChild(iframe);
            
            // Fallback to web after a short delay
            setTimeout(() => {
                window.open(snapchatUrl, '_blank');
                document.body.removeChild(iframe);
            }, 1000);
            
            showToast('Redirection vers Snapchat... üí™üèæ');
        }

        // Toast notifications
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            toastMessage.textContent = message;
            
            toast.style.display = 'block';
            toast.style.animation = 'slideInRight 0.3s ease';
            
            setTimeout(() => {
                toast.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => {
                    toast.style.display = 'none';
                }, 300);
            }, 3000);
        }

        // File upload handling is now handled by onchange="uploadFiles(this.files)" in HTML

        // 3D effects on scroll
        window.addEventListener('scroll', function() {
            const cards = document.querySelectorAll('.perspective-card');
            const scrolled = window.pageYOffset;
            
            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                const centerY = rect.top + rect.height / 2;
                const centerX = rect.left + rect.width / 2;
                const windowCenterY = window.innerHeight / 2;
                const windowCenterX = window.innerWidth / 2;
                
                const rotateX = (centerY - windowCenterY) * 0.01;
                const rotateY = (centerX - windowCenterX) * 0.01;
                
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                }
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + S to save in editor
            if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                e.preventDefault();
                if (document.getElementById('editor').style.display !== 'none') {
                    saveDocument();
                }
            }
            
            // Escape to close modals
            if (e.key === 'Escape') {
                const activeModal = document.querySelector('.modal.active');
                if (activeModal) {
                    closeModal(activeModal.id);
                }
            }
        });

        // File Preview Functions
        let currentFile = null;
        let currentZoom = 1;

        function openFilePreview(fileName, fileType, fileUrl) {
            currentFile = { name: fileName, type: fileType, url: fileUrl };
            currentZoom = 1;
            
            // Update modal header
            document.getElementById('fileName').textContent = fileName;
            document.getElementById('fileInfo').textContent = `Pr√©visualisation de ${fileName}`;
            
            // Update file info panel
            document.getElementById('fileType').textContent = getFileTypeDisplay(fileType);
            document.getElementById('fileSize').textContent = getRandomFileSize();
            document.getElementById('fileDate').textContent = new Date().toLocaleDateString('fr-FR');
            document.getElementById('fileViews').textContent = `Vues: ${Math.floor(Math.random() * 100)}`;
            
            // Show loading
            const content = document.getElementById('filePreviewContent');
            content.innerHTML = `
                <div class="loading-spinner">
                    <div class="spinner"></div>
                    <p style="margin-top: 1rem;">Chargement du fichier...</p>
                </div>
            `;
            
            // Open modal
            openModal('filePreviewModal');
            
            // Load file content based on type
            setTimeout(() => {
                loadFileContent(fileName, fileType, fileUrl);
            }, 800);
        }

        function loadFileContent(fileName, fileType, fileUrl) {
            const content = document.getElementById('filePreviewContent');
            const zoomControls = document.getElementById('zoomControls');
            
            switch (fileType) {
                case 'pdf':
                    content.innerHTML = `
                        <iframe class="pdf-viewer" src="${fileUrl}" style="min-height: 600px;">
                            <p>Votre navigateur ne supporte pas l'affichage des PDFs. 
                            <a href="${fileUrl}" target="_blank">Cliquez ici pour t√©l√©charger le fichier.</a></p>
                        </iframe>
                    `;
                    zoomControls.style.display = 'flex';
                    break;
                    
                case 'image':
                    content.innerHTML = `
                        <img class="image-viewer" src="${fileUrl}" alt="${fileName}" 
                             style="max-width: 100%; max-height: 100%; object-fit: contain;" 
                             id="zoomableImage">
                    `;
                    zoomControls.style.display = 'flex';
                    break;
                    
                case 'video':
                    content.innerHTML = `
                        <video class="video-viewer" controls style="max-width: 100%; max-height: 100%;">
                            <source src="${fileUrl}" type="video/mp4">
                            Votre navigateur ne supporte pas la lecture vid√©o.
                        </video>
                    `;
                    zoomControls.style.display = 'none';
                    break;
                    
                case 'text':
                    const sampleText = `# Notes de R√©union - ${new Date().toLocaleDateString('fr-FR')}

## Participants
- Marie Dubois (Chef de projet)
- Jean Martin (D√©veloppeur)
- Sophie Laurent (Designer)

## Points abord√©s
1. **R√©vision du design OneBox**
   - Am√©lioration des effets 3D
   - Optimisation mobile
   - Int√©gration Snapchat

2. **Fonctionnalit√©s √† d√©velopper**
   - Pr√©visualisation PDF am√©lior√©e
   - Zoom sur images
   - Partage social

## Actions √† mener
- [ ] Finaliser la modal de pr√©visualisation
- [ ] Tester sur diff√©rents navigateurs
- [ ] D√©ployer en production

## Prochaine r√©union
Date: ${new Date(Date.now() + 7*24*60*60*1000).toLocaleDateString('fr-FR')}
Heure: 14:00`;

                    content.innerHTML = `
                        <div class="text-viewer">${sampleText}</div>
                    `;
                    zoomControls.style.display = 'flex';
                    break;
                    
                case 'document':
                    content.innerHTML = `
                        <div class="text-viewer" style="background: white; color: #333; font-family: 'Times New Roman', serif;">
                            <h1 style="color: #1e40af; margin-bottom: 2rem; text-align: center;">CONTRAT DE TRAVAIL</h1>
                            
                            <p><strong>Entre les soussign√©s :</strong></p>
                            
                            <p>La soci√©t√© <strong>ONEBOX SAS</strong><br>
                            Si√®ge social : 123 Avenue de la Innovation, 75001 Paris<br>
                            SIRET : 123 456 789 00012<br>
                            Repr√©sent√©e par M. Jean DUPONT, Directeur G√©n√©ral</p>
                            
                            <p>d'une part,</p>
                            
                            <p>Et M./Mme <strong>[NOM PR√âNOM]</strong><br>
                            N√©(e) le [DATE] √† [LIEU]<br>
                            Demeurant : [ADRESSE]</p>
                            
                            <p>d'autre part,</p>
                            
                            <h2 style="color: #1e40af; margin-top: 2rem;">Article 1 - Engagement</h2>
                            <p>La soci√©t√© OneBox SAS engage M./Mme [NOM] en qualit√© de D√©veloppeur Full-Stack, √† compter du [DATE].</p>
                            
                            <h2 style="color: #1e40af;">Article 2 - Fonctions</h2>
                            <p>L'employ√©(e) exercera les fonctions de d√©veloppement d'applications cloud, maintenance des serveurs et support client.</p>
                            
                            <h2 style="color: #1e40af;">Article 3 - R√©mun√©ration</h2>
                            <p>La r√©mun√©ration mensuelle brute est fix√©e √† [MONTANT] euros, payable le dernier jour ouvr√© de chaque mois.</p>
                        </div>
                    `;
                    zoomControls.style.display = 'flex';
                    break;
                    
                case 'spreadsheet':
                    content.innerHTML = `
                        <div class="text-viewer" style="background: white; color: #333;">
                            <h2 style="color: #059669; text-align: center; margin-bottom: 2rem;">Budget 2024 - OneBox</h2>
                            <table style="width: 100%; border-collapse: collapse; font-family: Arial, sans-serif;">
                                <thead style="background: #059669; color: white;">
                                    <tr>
                                        <th style="border: 1px solid #ccc; padding: 12px; text-align: left;">Cat√©gorie</th>
                                        <th style="border: 1px solid #ccc; padding: 12px; text-align: right;">Q1 2024</th>
                                        <th style="border: 1px solid #ccc; padding: 12px; text-align: right;">Q2 2024</th>
                                        <th style="border: 1px solid #ccc; padding: 12px; text-align: right;">Q3 2024</th>
                                        <th style="border: 1px solid #ccc; padding: 12px; text-align: right;">Q4 2024</th>
                                        <th style="border: 1px solid #ccc; padding: 12px; text-align: right;">Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="background: #f0f9ff;">
                                        <td style="border: 1px solid #ccc; padding: 12px; font-weight: bold;">Revenus</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">25 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">35 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">45 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">55 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right; font-weight: bold;">160 000‚Ç¨</td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid #ccc; padding: 12px;">Salaires</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">15 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">18 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">20 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">22 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">75 000‚Ç¨</td>
                                    </tr>
                                    <tr style="background: #f8f9fa;">
                                        <td style="border: 1px solid #ccc; padding: 12px;">Infrastructure</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">3 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">4 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">5 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">6 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">18 000‚Ç¨</td>
                                    </tr>
                                    <tr>
                                        <td style="border: 1px solid #ccc; padding: 12px;">Marketing</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">2 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">5 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">8 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">10 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">25 000‚Ç¨</td>
                                    </tr>
                                    <tr style="background: #dcfce7; font-weight: bold;">
                                        <td style="border: 1px solid #ccc; padding: 12px;">B√©n√©fice Net</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">5 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">8 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">12 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right;">17 000‚Ç¨</td>
                                        <td style="border: 1px solid #ccc; padding: 12px; text-align: right; color: #059669;">42 000‚Ç¨</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p style="margin-top: 2rem; font-style: italic; color: #6b7280;">
                                * Donn√©es pr√©visionnelles bas√©es sur les tendances du march√©<br>
                                ** Mise √† jour: ${new Date().toLocaleDateString('fr-FR')}
                            </p>
                        </div>
                    `;
                    zoomControls.style.display = 'flex';
                    break;
                    
                default:
                    content.innerHTML = `
                        <div style="text-align: center; padding: 3rem; color: hsl(var(--muted-foreground));">
                            <i class="fas fa-file" style="font-size: 4rem; margin-bottom: 1rem;"></i>
                            <h3>Aper√ßu non disponible</h3>
                            <p>Ce type de fichier ne peut pas √™tre pr√©visualis√© directement.</p>
                            <button class="btn btn-primary floating-btn" onclick="downloadCurrentFile()" style="margin-top: 1rem;">
                                <i class="fas fa-download"></i>
                                T√©l√©charger le fichier
                            </button>
                        </div>
                    `;
                    zoomControls.style.display = 'none';
            }
        }

        // Zoom functions
        function zoomIn() {
            currentZoom = Math.min(currentZoom * 1.2, 3);
            applyZoom();
        }

        function zoomOut() {
            currentZoom = Math.max(currentZoom / 1.2, 0.5);
            applyZoom();
        }

        function resetZoom() {
            currentZoom = 1;
            applyZoom();
        }

        function applyZoom() {
            const image = document.getElementById('zoomableImage');
            const textViewer = document.querySelector('.text-viewer');
            const pdfViewer = document.querySelector('.pdf-viewer');
            
            if (image) {
                image.style.transform = `scale(${currentZoom})`;
                image.style.transformOrigin = 'center center';
            }
            
            if (textViewer) {
                textViewer.style.fontSize = `${currentZoom}rem`;
            }
            
            if (pdfViewer) {
                pdfViewer.style.zoom = currentZoom;
            }
            
            showToast(`Zoom: ${Math.round(currentZoom * 100)}%`);
        }

        // File actions
        function downloadCurrentFile() {
            if (currentFile) {
                showToast(`T√©l√©chargement de ${currentFile.name} d√©marr√© ! üí™üèæ`);
                // In a real app, this would trigger an actual download
            }
        }

        function shareCurrentFile() {
            if (currentFile) {
                if (navigator.share) {
                    navigator.share({
                        title: `OneBox - ${currentFile.name}`,
                        text: `Consultez ce fichier depuis OneBox`,
                        url: window.location.href
                    });
                } else {
                    // Fallback
                    navigator.clipboard.writeText(window.location.href);
                    showToast(`Lien copi√© pour partager ${currentFile.name} !`);
                }
            }
        }

        function shareCurrentFileSnapchat() {
            if (currentFile) {
                openSnapchat();
                showToast(`Partage de ${currentFile.name} via Snapchat ! üí™üèæ`);
            }
        }

        function editCurrentFile() {
            if (currentFile) {
                closeModal('filePreviewModal');
                showSection('editor');
                showToast(`Ouverture de ${currentFile.name} dans l'√©diteur !`);
            }
        }

        // File management functions
        function uploadFiles(files) {
            if (files && files.length > 0) {
                showToast(`${files.length} fichier(s) t√©l√©charg√©(s) avec succ√®s ! üí™üèæ`);
                closeModal('uploadModal');
                
                // Ajouter les fichiers √† la grille
                const fileGrid = document.getElementById('fileGrid');
                
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    const fileCard = createFileCard(file);
                    fileGrid.appendChild(fileCard);
                }
            }
        }
        
        function createFileCard(file) {
            const fileCard = document.createElement('div');
            fileCard.className = 'file-card perspective-card';
            
            // D√©termine l'ic√¥ne selon le type de fichier
            let icon = 'fas fa-file';
            let color = '#64748B';
            
            if (file.type.startsWith('image/')) {
                icon = 'fas fa-image';
                color = '#06D6A0';
            } else if (file.type.includes('pdf')) {
                icon = 'fas fa-file-pdf';
                color = '#DC2626';
            } else if (file.type.includes('word') || file.name.endsWith('.docx')) {
                icon = 'fas fa-file-word';
                color = '#2563EB';
            } else if (file.type.includes('video')) {
                icon = 'fas fa-video';
                color = '#7C3AED';
            }
            
            fileCard.onclick = () => previewUploadedFile(file);
            
            fileCard.innerHTML = `
                <div class="file-preview-thumb">
                    <i class="${icon}" style="font-size: 2rem; color: ${color};"></i>
                </div>
                <h4>${file.name.length > 15 ? file.name.substring(0, 15) + '...' : file.name}</h4>
                <p style="color: hsl(var(--muted-foreground)); font-size: 0.75rem;">${(file.size / 1024 / 1024).toFixed(2)} MB</p>
                <div class="file-actions">
                    <button class="file-action-btn" onclick="event.stopPropagation(); downloadUploadedFile('${file.name}')" title="T√©l√©charger">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="file-action-btn" onclick="event.stopPropagation(); shareUploadedFile('${file.name}')" title="Partager">
                        <i class="fas fa-share-alt"></i>
                    </button>
                </div>
            `;
            
            return fileCard;
        }
        
        function previewUploadedFile(file) {
            showToast(`Aper√ßu de ${file.name} - fonctionnalit√© √† venir ! üëÅÔ∏è`);
        }
        
        function downloadUploadedFile(fileName) {
            showToast(`T√©l√©chargement de ${fileName} d√©marr√© ! üí™üèæ`);
        }
        
        function shareUploadedFile(fileName) {
            showToast(`${fileName} partag√© avec succ√®s ! üì§`);
        }

        function downloadFile(fileName) {
            showToast(`T√©l√©chargement de ${fileName} d√©marr√© ! üí™üèæ`);
        }

        function shareFile(fileName) {
            showToast(`${fileName} partag√© avec succ√®s !`);
        }

        function shareViaSnapchat(fileName) {
            openSnapchat();
            showToast(`${fileName} partag√© via Snapchat ! üí™üèæ`);
        }

        function editImage(fileName) {
            showToast(`Ouverture de ${fileName} dans l'√©diteur d'images !`);
            // In a real app, this would open an image editor
        }

        // Helper functions
        function getFileTypeDisplay(type) {
            const types = {
                'pdf': 'Document PDF',
                'image': 'Image JPEG',
                'video': 'Vid√©o MP4',
                'text': 'Fichier Texte',
                'document': 'Document Word',
                'spreadsheet': 'Feuille de calcul Excel'
            };
            return types[type] || 'Fichier';
        }

        function getRandomFileSize() {
            const sizes = ['45 KB', '1.2 MB', '2.5 MB', '0.8 MB', '15.3 MB', '1.8 MB'];
            return sizes[Math.floor(Math.random() * sizes.length)];
        }

        // Editor Functions
        let savedDocuments = JSON.parse(localStorage.getItem('oneboxDocuments')) || {};
        let currentDocumentFilter = 'none';

        function toggleSavePanel() {
            const panel = document.getElementById('savePanelEditor');
            const filtersPanel = document.getElementById('filtersPanel');
            
            if (panel.style.display === 'block') {
                panel.style.display = 'none';
            } else {
                panel.style.display = 'block';
                filtersPanel.style.display = 'none';
                
                // Generate automatic name if empty
                const editorContent = document.getElementById('editor').textContent;
                const firstLine = editorContent.split('\n')[0].slice(0, 30);
                if (firstLine && firstLine !== 'Mon Nouveau Document') {
                    document.getElementById('documentName').value = firstLine + '...';
                }
            }
        }

        function toggleFilters() {
            const panel = document.getElementById('filtersPanel');
            const savePanel = document.getElementById('savePanelEditor');
            
            if (panel.style.display === 'block') {
                panel.style.display = 'none';
            } else {
                panel.style.display = 'block';
                savePanel.style.display = 'none';
            }
        }

        function saveDocumentToFolder() {
            const name = document.getElementById('documentName').value || 'Document sans nom';
            const folder = document.getElementById('documentFolder').value;
            const content = document.getElementById('editor').innerHTML;
            
            // Create folder structure if needed
            if (!savedDocuments[folder]) {
                savedDocuments[folder] = {};
            }
            
            // Save document with timestamp
            const timestamp = new Date().toISOString();
            savedDocuments[folder][name] = {
                content: content,
                created: timestamp,
                filter: currentDocumentFilter
            };
            
            // Save to localStorage
            localStorage.setItem('oneboxDocuments', JSON.stringify(savedDocuments));
            
            // Add to file grid (simulate)
            addDocumentToFileGrid(name, folder);
            
            // Close panel and show success
            toggleSavePanel();
            showToast(`Document "${name}" enregistr√© dans ${getFolderDisplayName(folder)} ! üí™üèæ`);
        }

        function getFolderDisplayName(folder) {
            const folders = {
                'mes-documents': 'üìÅ Mes Documents',
                'projets': 'üíº Projets', 
                'personnel': 'üë§ Personnel',
                'travail': 'üè¢ Travail',
                'ecole': 'üéì √âcole'
            };
            return folders[folder] || folder;
        }

        function addDocumentToFileGrid(name, folder) {
            // This would add the document to the file grid in a real app
            // For demo purposes, we'll show a toast
            showToast(`Document ajout√© √† la grille de fichiers !`);
            // Refresh documents display
            refreshDocuments();
        }

        // Documents Management Functions
        function refreshDocuments() {
            const savedDocs = JSON.parse(localStorage.getItem('oneboxDocuments')) || {};
            const foldersGrid = document.getElementById('foldersGrid');
            const documentsList = document.getElementById('documentsList');
            const emptyState = document.getElementById('emptyState');
            
            // Calculate stats
            let totalDocs = 0;
            let totalFolders = Object.keys(savedDocs).length;
            let lastModified = null;
            
            // Clear previous content
            foldersGrid.innerHTML = '';
            documentsList.innerHTML = '';
            
            if (totalFolders === 0) {
                emptyState.style.display = 'block';
                document.getElementById('documentsContainer').style.display = 'none';
                foldersGrid.style.display = 'none';
            } else {
                emptyState.style.display = 'none';
                document.getElementById('documentsContainer').style.display = 'block';
                foldersGrid.style.display = 'grid';
                
                // Create folder cards
                Object.keys(savedDocs).forEach(folder => {
                    const docs = savedDocs[folder];
                    const docsCount = Object.keys(docs).length;
                    totalDocs += docsCount;
                    
                    // Find latest document in folder
                    Object.values(docs).forEach(doc => {
                        if (!lastModified || new Date(doc.created) > new Date(lastModified)) {
                            lastModified = doc.created;
                        }
                    });
                    
                    // Create folder card
                    const folderCard = document.createElement('div');
                    folderCard.className = 'card perspective-card glass-effect floating-btn';
                    folderCard.onclick = () => openFolder(folder);
                    folderCard.innerHTML = `
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                            <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #06D6A0, #118AB2); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                ${getFolderIcon(folder)}
                            </div>
                            <div style="flex: 1;">
                                <h4 style="color: hsl(var(--foreground)); margin: 0 0 0.5rem 0;">${getFolderDisplayName(folder)}</h4>
                                <p style="color: hsl(var(--muted-foreground)); margin: 0; font-size: 0.9rem;">${docsCount} document${docsCount > 1 ? 's' : ''}</p>
                            </div>
                            <i class="fas fa-chevron-right" style="color: hsl(var(--muted-foreground));"></i>
                        </div>
                    `;
                    foldersGrid.appendChild(folderCard);
                    
                    // Add recent documents from this folder
                    Object.entries(docs).forEach(([docName, docData]) => {
                        const docCard = document.createElement('div');
                        docCard.className = 'card perspective-card floating-btn';
                        docCard.style.cursor = 'pointer';
                        docCard.onclick = () => openDocument(docName, docData);
                        
                        const preview = docData.content.replace(/<[^>]*>/g, '').slice(0, 100);
                        const dateFormatted = new Date(docData.created).toLocaleDateString('fr-FR', {
                            day: 'numeric',
                            month: 'short',
                            year: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        });
                        
                        docCard.innerHTML = `
                            <div style="display: flex; gap: 1rem;">
                                <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #FFD60A, #F77F00); border-radius: 8px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <i class="fas fa-file-alt" style="color: white;"></i>
                                </div>
                                <div style="flex: 1; min-width: 0;">
                                    <h5 style="color: hsl(var(--foreground)); margin: 0 0 0.5rem 0; font-size: 1rem; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">${docName}</h5>
                                    <p style="color: hsl(var(--muted-foreground)); margin: 0 0 0.5rem 0; font-size: 0.8rem; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">${preview}...</p>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span style="color: hsl(var(--muted-foreground)); font-size: 0.7rem;">${getFolderDisplayName(folder)}</span>
                                        <span style="color: hsl(var(--muted-foreground)); font-size: 0.7rem;">${dateFormatted}</span>
                                    </div>
                                </div>
                                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                    <button class="btn btn-sm" onclick="editDocument('${docName}', '${folder}'); event.stopPropagation();" style="padding: 0.25rem 0.5rem; font-size: 0.7rem;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-sm btn-outline" onclick="deleteDocument('${docName}', '${folder}'); event.stopPropagation();" style="padding: 0.25rem 0.5rem; font-size: 0.7rem;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        `;
                        documentsList.appendChild(docCard);
                    });
                });
            }
            
            // Update stats
            document.getElementById('totalDocuments').textContent = totalDocs;
            document.getElementById('totalFolders').textContent = totalFolders;
            document.getElementById('lastModified').textContent = lastModified ? 
                new Date(lastModified).toLocaleDateString('fr-FR', { day: 'numeric', month: 'short' }) : '-';
        }

        function getFolderIcon(folder) {
            const icons = {
                'mes-documents': '<i class="fas fa-folder" style="color: white;"></i>',
                'projets': '<i class="fas fa-briefcase" style="color: white;"></i>',
                'personnel': '<i class="fas fa-user" style="color: white;"></i>',
                'travail': '<i class="fas fa-building" style="color: white;"></i>',
                'ecole': '<i class="fas fa-graduation-cap" style="color: white;"></i>'
            };
            return icons[folder] || '<i class="fas fa-folder" style="color: white;"></i>';
        }

        function openFolder(folder) {
            showToast(`Ouverture du dossier ${getFolderDisplayName(folder)} ! üìÅ`);
            // In real app would filter documents by folder
        }

        function openDocument(docName, docData) {
            if (confirm(`Ouvrir le document "${docName}" dans l'√©diteur ?`)) {
                document.getElementById('editor').innerHTML = docData.content;
                document.getElementById('documentName').value = docName;
                if (docData.filter && docData.filter !== 'none') {
                    applyDocumentFilter(docData.filter);
                }
                scrollToSection('editor');
                showToast(`Document "${docName}" ouvert dans l'√©diteur ! ‚ú®`);
            }
        }

        function editDocument(docName, folder) {
            const savedDocs = JSON.parse(localStorage.getItem('oneboxDocuments')) || {};
            const docData = savedDocs[folder][docName];
            openDocument(docName, docData);
        }

        function deleteDocument(docName, folder) {
            if (confirm(`Supprimer d√©finitivement le document "${docName}" ?`)) {
                const savedDocs = JSON.parse(localStorage.getItem('oneboxDocuments')) || {};
                delete savedDocs[folder][docName];
                
                // Remove folder if empty
                if (Object.keys(savedDocs[folder]).length === 0) {
                    delete savedDocs[folder];
                }
                
                localStorage.setItem('oneboxDocuments', JSON.stringify(savedDocs));
                refreshDocuments();
                showToast(`Document "${docName}" supprim√© ! üóëÔ∏è`);
            }
        }

        function newDocument() {
            if (confirm('Cr√©er un nouveau document ? Le contenu actuel sera perdu si non sauvegard√©.')) {
                document.getElementById('editor').innerHTML = '<h1>Mon Nouveau Document</h1><p>Commencez √† √©crire ici...</p>';
                document.getElementById('documentName').value = 'Mon Nouveau Document';
                resetDocumentFilter();
                showToast('Nouveau document cr√©√© ! ‚ú®');
            }
        }

        function shareDocumentSnapchat() {
            const content = document.getElementById('editor').textContent;
            if (content.length > 10) {
                window.open('https://snapchat.com/t/ZVBBKbCo', '_blank');
                showToast('Document partag√© via Snapchat ! üí™üèæ');
            } else {
                showToast('√âcrivez du contenu avant de partager !');
            }
        }

        // Color Filter Functions
        function applyDocumentFilter(filter) {
            const editor = document.getElementById('editor');
            currentDocumentFilter = filter;
            
            // Remove all existing filter classes
            editor.classList.remove(
                'color-filter-vivid', 'color-filter-dramatic', 'color-filter-mono',
                'color-filter-silvertone', 'color-filter-noir', 'color-filter-warm',
                'color-filter-cool'
            );
            
            // Apply new filter if not 'none'
            if (filter !== 'none') {
                editor.classList.add(`color-filter-${filter}`);
            }
            
            // Update button states
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-filter="${filter}"]`).classList.add('active');
            
            showToast(`Filtre "${getFilterDisplayName(filter)}" appliqu√© !`);
        }

        function getFilterDisplayName(filter) {
            const filters = {
                'none': 'Original',
                'vivid': '√âclatant',
                'dramatic': 'Spectaculaire', 
                'mono': 'Mono',
                'silvertone': 'Argent√©',
                'noir': 'Noir',
                'warm': 'Chaud',
                'cool': 'Froid'
            };
            return filters[filter] || filter;
        }

        function resetDocumentFilter() {
            applyDocumentFilter('none');
        }

        // Snapchat Contact Functions
        function copySnapchatLink() {
            const link = 'https://snapchat.com/t/ZVBBKbCo';
            navigator.clipboard.writeText(link).then(() => {
                showToast('Lien Snapchat copi√© ! üì±');
            });
        }

        function shareSnapchatLink() {
            const link = 'https://snapchat.com/t/ZVBBKbCo';
            if (navigator.share) {
                navigator.share({
                    title: 'Support OneBox - Snapchat',
                    text: 'Contactez le support OneBox via Snapchat',
                    url: link
                });
            } else {
                copySnapchatLink();
            }
        }

        // Cookie Management Functions
        function acceptAllCookies() {
            localStorage.setItem('oneboxCookies', 'accepted');
            closeModal('cookiesModal');
            showToast('Tous les cookies accept√©s ! üç™');
        }

        function manageCookiePreferences() {
            showToast('Param√®tres de cookies ouverts !');
            // In a real app, this would open detailed cookie preferences
        }

        // Newsletter Functions
        function subscribeNewsletter(event) {
            event.preventDefault();
            const email = event.target.querySelector('input[type="email"]').value;
            showToast(`Inscription newsletter r√©ussie pour ${email} ! üìß`);
            closeModal('newsletterModal');
        }

        // Help Functions  
        function showGuide() {
            closeModal('helpModal');
            openModal('guideModal');
        }

        function showDocumentation() {
            closeModal('helpModal');
            openModal('documentationModal');
        }

        // Pricing Functions
        function choosePlan(planType) {
            closeModal('pricingModal');
            if (planType === 'free') {
                showToast('Plan Gratuit s√©lectionn√© ! Parfait pour commencer ! üÜì');
            } else if (planType === 'pro') {
                showToast('Plan Pro s√©lectionn√© ! Contact via Snapchat pour l\'activation ! üí™üèæ');
                setTimeout(() => {
                    window.open('https://snapchat.com/t/ZVBBKbCo', '_blank');
                }, 2000);
            }
        }

        // Authentication Functions
        let registeredUsers = JSON.parse(localStorage.getItem('oneboxUsers')) || {};
        let currentUser = JSON.parse(localStorage.getItem('oneboxCurrentUser')) || null;

        function showRegister() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
        }

        function showLogin() {
            document.getElementById('registerForm').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
        }

        function registerNewUser(event) {
            event.preventDefault();
            
            const username = document.getElementById('regUsername').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regPasswordConfirm').value;
            const faceIdEnabled = document.getElementById('enableFaceId').checked;
            
            // Validation
            if (password !== confirmPassword) {
                showToast('Les mots de passe ne correspondent pas !');
                return;
            }
            
            if (registeredUsers[username]) {
                showToast('Ce nom d\'utilisateur existe d√©j√† !');
                return;
            }
            
            // Save user (simplified without email)
            registeredUsers[username] = {
                password: password, // In real app, this would be hashed
                faceIdEnabled: faceIdEnabled,
                createdAt: new Date().toISOString()
            };
            
            localStorage.setItem('oneboxUsers', JSON.stringify(registeredUsers));
            
            // Auto login with loading screen
            currentUser = { username, faceIdEnabled };
            localStorage.setItem('oneboxCurrentUser', JSON.stringify(currentUser));
            
            showToast(`Compte cr√©√© avec succ√®s ! Bienvenue ${username} ! üéâ`);
            
            // Direct access for new users - no loading screen needed!
            setTimeout(() => {
                // Hide auth section
                document.getElementById('auth').classList.remove('active');
                document.getElementById('auth').style.display = 'none';
                
                // Show navigation
                document.getElementById('mainNavbar').style.display = 'block';
                
                // Show home section directly
                showSection('home');
            }, 800); // Quick transition for new users
            
            // Update Face ID option visibility
            updateFaceIdVisibility();
        }

        function loginWithCredentials(event) {
            event.preventDefault();
            
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            const rememberMe = document.getElementById('rememberMe').checked;
            
            // Check if user exists
            if (!registeredUsers[username]) {
                showToast('Nom d\'utilisateur introuvable !');
                return;
            }
            
            // Check password
            if (registeredUsers[username].password !== password) {
                showToast('Mot de passe incorrect !');
                return;
            }
            
            // Login successful
            const userData = registeredUsers[username];
            currentUser = { 
                username, 
                faceIdEnabled: userData.faceIdEnabled 
            };
            
            if (rememberMe) {
                localStorage.setItem('oneboxCurrentUser', JSON.stringify(currentUser));
            }
            
            showToast(`Connexion r√©ussie ! Bienvenue ${username} ! üí™üèæ`);
            
            // Show loading screen and redirect to home  
            showLoadingAndRedirect('home');
            
            // Update Face ID option visibility
            updateFaceIdVisibility();
        }

        function authenticateWithFaceId() {
            // Check if any user has Face ID enabled
            const faceIdUsers = Object.entries(registeredUsers).filter(([_, user]) => user.faceIdEnabled);
            
            if (faceIdUsers.length === 0) {
                showToast('Aucun utilisateur n\'a activ√© Face ID. Cr√©ez un compte d\'abord !');
                return;
            }
            
            // Start Face ID animation
            const faceIdDiv = document.querySelector('#faceIdOption .floating-btn > div');
            faceIdDiv.style.animation = 'faceIdScanning 3s linear';
            
            showToast('üîç Scan Face ID en cours...');
            
            // Simulate Face ID scanning
            setTimeout(() => {
                // Success animation
                faceIdDiv.style.animation = 'faceIdPulse 0.5s ease-in-out';
                faceIdDiv.style.background = 'radial-gradient(circle, transparent 30%, rgba(0, 255, 0, 0.6) 70%)';
                
                // Auto-login first Face ID user (simulation)
                const [username, userData] = faceIdUsers[0];
                currentUser = { 
                    username, 
                    faceIdEnabled: userData.faceIdEnabled 
                };
                
                localStorage.setItem('oneboxCurrentUser', JSON.stringify(currentUser));
                
                showToast(`‚úÖ Face ID r√©ussi ! Bienvenue ${username} ! üöÄ`);
                
                // Reset Face ID animation immediately and start 3D loading
                faceIdDiv.style.animation = 'faceIdPulse 2s infinite';
                faceIdDiv.style.background = 'radial-gradient(circle, transparent 30%, rgba(6, 214, 160, 0.3) 70%)';
                
                // Show loading screen and redirect to home (exactly 3 seconds)
                showLoadingAndRedirect('home');
                
            }, 3000);
        }

        function updateFaceIdVisibility() {
            const faceIdOption = document.getElementById('faceIdOption');
            const hasCurrentUser = currentUser !== null;
            const hasFaceIdUsers = Object.values(registeredUsers).some(user => user.faceIdEnabled);
            
            if (hasCurrentUser || !hasFaceIdUsers) {
                faceIdOption.style.display = 'none';
            } else {
                faceIdOption.style.display = 'block';
            }
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('oneboxCurrentUser');
            
            // Hide navigation and show auth
            document.getElementById('mainNavbar').style.display = 'none';
            document.getElementById('auth').classList.add('active');
            document.getElementById('auth').style.display = 'flex';
            
            // Hide all other sections
            document.querySelectorAll('.section').forEach(section => {
                if (section.id !== 'auth') {
                    section.classList.remove('active');
                    section.style.display = 'none';
                }
            });
            
            showToast('D√©connexion r√©ussie ! √Ä bient√¥t ! üëã');
            updateFaceIdVisibility();
        }

        // Loading screen and redirect function (3 seconds exact)
        function showLoadingAndRedirect(targetSection) {
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingBar = document.getElementById('loadingBar');
            
            // Show loading screen
            loadingScreen.style.display = 'flex';
            
            // Animate loading bar - exactly 3 seconds
            let progress = 0;
            const totalTime = 3000; // 3 seconds
            const intervalTime = 100; // Update every 100ms
            const increment = 100 / (totalTime / intervalTime); // ~3.33% per update
            
            const interval = setInterval(() => {
                progress += increment;
                if (progress > 100) progress = 100;
                
                loadingBar.style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(interval);
                    
                    // Immediate transition after 3 seconds
                    // Hide loading screen
                    loadingScreen.style.display = 'none';
                    
                    // Hide auth section
                    document.getElementById('auth').classList.remove('active');
                    document.getElementById('auth').style.display = 'none';
                    
                    // Show navigation
                    document.getElementById('mainNavbar').style.display = 'block';
                    
                    // Show target section
                    showSection(targetSection);
                    
                    // Reset loading bar for next time
                    loadingBar.style.width = '0%';
                }
            }, intervalTime);
        }

        // Enhanced section showing function
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.classList.remove('active');
                section.style.display = 'none';
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
                targetSection.style.display = 'block';
            }
            
            // Update nav links
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => link.classList.remove('active'));
            
            const activeLink = document.querySelector(`[data-section="${sectionId}"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
            
            // Close mobile menu if open
            const navMenu = document.getElementById('navMenu');
            if (navMenu) {
                navMenu.classList.remove('active');
            }
            
            // Refresh documents if opening that section
            if (sectionId === 'mes-documents') {
                refreshDocuments();
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Add smooth scrolling
            document.documentElement.style.scrollBehavior = 'smooth';
            
            // Add loading animation
            document.body.style.opacity = '0';
            document.body.style.transition = 'opacity 0.5s ease';
            
            setTimeout(() => {
                document.body.style.opacity = '1';
            }, 100);
            
            // Welcome message
            setTimeout(() => {
                showToast('Bienvenue sur OneBox ! Votre cloud personnel s√©curis√© üí™üèæ');
            }, 2000);

            // Add keyboard shortcuts for file preview
            document.addEventListener('keydown', function(e) {
                if (document.getElementById('filePreviewModal').classList.contains('active')) {
                    if (e.key === '+' || e.key === '=') {
                        e.preventDefault();
                        zoomIn();
                    } else if (e.key === '-') {
                        e.preventDefault();
                        zoomOut();
                    } else if (e.key === '0') {
                        e.preventDefault();
                        resetZoom();
                    }
                }
            });

            // Auto-save functionality
            let autoSaveTimeout;
            document.getElementById('editor').addEventListener('input', function() {
                clearTimeout(autoSaveTimeout);
                autoSaveTimeout = setTimeout(() => {
                    // Auto-save draft to localStorage
                    localStorage.setItem('oneboxDraft', this.innerHTML);
                }, 2000);
            });

            // Restore draft if available
            const savedDraft = localStorage.getItem('oneboxDraft');
            if (savedDraft && savedDraft !== '<h1>Mon Nouveau Document</h1><p>Commencez √† √©crire ici...</p>') {
                if (confirm('Un brouillon a √©t√© trouv√©. Voulez-vous le restaurer ?')) {
                    document.getElementById('editor').innerHTML = savedDraft;
                }
            }

            // Load saved documents
            refreshDocuments();

            // Check if user is already logged in
            if (currentUser) {
                // Hide auth and show main app
                document.getElementById('auth').classList.remove('active');
                document.getElementById('auth').style.display = 'none';
                document.getElementById('mainNavbar').style.display = 'block';
                showSection('home');
                showToast(`Bienvenue de retour ${currentUser.username} ! üí™üèæ`);
            } else {
                // Ensure auth is visible on first load
                document.getElementById('auth').classList.add('active');
                document.getElementById('auth').style.display = 'flex';
                document.getElementById('mainNavbar').style.display = 'none';
            }
            
            // Update Face ID visibility
            updateFaceIdVisibility();
        });

        // Add more 3D animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOutRight {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
            
            .perspective-card {
                will-change: transform;
            }
            
            .floating-btn {
                will-change: transform, box-shadow;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>